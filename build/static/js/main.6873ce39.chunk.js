(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,a,t){e.exports=t.p+"static/media/default.ef8c193e.jpg"},324:function(e,a,t){e.exports=t.p+"static/media/default.ef8c193e.jpg"},354:function(e,a,t){e.exports=t(691)},363:function(e,a,t){},364:function(e,a,t){},372:function(e,a,t){},685:function(e,a,t){},686:function(e,a,t){},690:function(e,a,t){},691:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(22),c=t.n(l),o=t(34),i=t(116),s=t(18),m="SAVE_USER_INFO",u=JSON.parse(localStorage.getItem("userInfo")||"{}");console.log("userInfo",u);var p={isLogin:!1,token:"",farm_code:""};u.isLogin&&(p.isLogin=u.isLogin,p.token=u.token,p.farm_code=u.farm_code,console.log("initState",p));var d=t(54),f=function(){return{assesser:{label:"",value:""},assessDate:d.DateTime.local(),assessDate2:d.DateTime.local().plus({day:1}),type:"",sub_type:"",note:"",photo:[],cow:{label:"",value:""},cowshed:{label:"",value:""},lf:"",lb:"",rf:"",rb:"",cowType:"",results:"",add_event:!0}},b=Object(i.b)({messageStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{variant:"error",open:!1,message:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SHOW_MESSAGE":case"CLOSE_MESSAGE":return Object(s.a)({},e,a.payload);default:return e}},userInfoStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m:var t=JSON.parse(localStorage.getItem("userInfo")||"{}");return localStorage.setItem("userInfo",JSON.stringify(Object(s.a)({},t,a.payload.userInfo))),Object(s.a)({},e,a.payload.userInfo);default:return e}},reviewDetailStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f(),a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SAVE_REVIEW_DETAIL":return Object(s.a)({},e,a.payload);case"CLEAR_STATE":return f();default:return e}}}),E=Object(i.c)(b,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),g=t(796),h=t(337),v=(t(363),t(37)),y=t(88),x=(t(364),t(736)),O=t(738),N=t(739),j=t(740),S=t(741),w=t(742),k=t(743),C=["/","/home","/index"],T="/zh-hans/api/v1/",I=Object(x.a)({layout:{height:"100vh"},bottomNav:{position:"fixed",width:"100%",bottom:0,zIndex:10,boxShadow:"0 -1px 5px 0 rgba(58, 59, 59, 0.5)"}}),_=function(e){return function(a){var t=I(),n=a.location,l=a.history,c=C.includes(n.pathname)?C[1]:n.pathname;return r.a.createElement("div",{className:t.layout},r.a.createElement(e,a),r.a.createElement(O.a,{value:c,onChange:function(e,a){return l.push(a)},className:t.bottomNav,showLabels:!0},r.a.createElement(N.a,{label:"\u4e3b\u9875",value:C[1],icon:r.a.createElement(j.a,null)}),r.a.createElement(N.a,{label:"\u4efb\u52a1",value:"/tasks",icon:r.a.createElement(S.a,null)}),r.a.createElement(N.a,{label:"\u62a5\u8868",value:"/reports",icon:r.a.createElement(w.a,null)}),r.a.createElement(N.a,{label:"\u67e5\u725b",value:"/search",icon:r.a.createElement(k.a,null)})))}},D=t(57),A=t(8),L=t(750),R=t(798),z=t(754),W=t(748),F=t(755),M=t(756),P=t(117),B=t(807),H=t(746),J=t(744),V=t(745),U=function(e){E.dispatch({type:"SHOW_MESSAGE",payload:{variant:"error",message:e,open:!0}})},K=function(){E.dispatch({type:"SAVE_USER_INFO",payload:{userInfo:{isLogin:!1,token:"",farm_code:""}}}),window.location.href="".concat(window.location.origin,"/#/login")},q=function(e){if(console.log("handleError",e),e&&e.status)switch(e.status){case 400:U("\u53c2\u6570\u9519\u8bef");break;case 401:U("\u672a\u6388\u6743\uff0c\u8bf7\u767b\u5f55"),K();break;case 402:U("\u767b\u5f55\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"),K();break;case 403:U("\u62d2\u7edd\u8bbf\u95ee");break;case 404:U("\u8bf7\u6c42\u5730\u5740\u51fa\u9519");break;case 408:U("\u8bf7\u6c42\u8d85\u65f6");break;case 500:U("\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef");break;case 501:U("\u670d\u52a1\u672a\u5b9e\u73b0");break;case 502:U("\u7f51\u5173\u9519\u8bef");break;case 503:U("\u670d\u52a1\u4e0d\u53ef\u7528");break;case 504:U("\u7f51\u5173\u8d85\u65f6");break;case 505:U("HTTP\u7248\u672c\u4e0d\u53d7\u652f\u6301")}return Object(J.a)(e)},G=function(e,a,t){var n,r="".concat(T).concat(e,"/"),l={},c=JSON.parse(localStorage.getItem("userInfo")||"{}"),o=c.token,i=c.farm_code,s=E.getState();if(t&&t.useToken){if(!o||!s.userInfoStore.token)return K(),V.a;l.AUTHORIZATION="JWT ".concat(o)}if(t&&t.useFarmCode){if(!i)return K(),V.a;r="".concat(T).concat(i,"/").concat(e,"/")}if(t&&t.useId&&t.useFarmCode){var m=a.id;r="".concat(T).concat(i,"/").concat(e,"/").concat(m,"/"),delete a.id}return t&&t.overrideUrl&&(r=t.overrideUrl(T,e,{farmcode:i})),n="".concat(r,"?").concat(Object.entries(a).map(function(e){return e.join("=")}).join("&")),B.a.get(n,l).pipe(Object(H.a)(q))},X=function(e,a,t){var n={},r="".concat(T).concat(e,"/"),l=JSON.parse(localStorage.getItem("userInfo")||"{}"),c=l.token,o=l.farm_code,i=E.getState();if(t&&t.useToken){if(!c||!i.userInfoStore.token)return K(),V.a;n.AUTHORIZATION="JWT ".concat(c)}if(t&&t.useFarmCode){if(!o)return K(),V.a;r="".concat(T).concat(o,"/").concat(e,"/")}return t&&t.overrideUrl&&(r=t.overrideUrl(T,e,{farmcode:o})),t&&t.useJSON&&(n["content-type"]="application/json"),t&&t.overrideHeaders&&(n=t.overrideHeaders(n)),B.a.post(r,a,n).pipe(Object(H.a)(q))},Y=function(e){return X("imagesupload",e,{useFarmCode:!0,useToken:!0})},Z=function(e){return G("cows",e,{useFarmCode:!0,useToken:!0})},$=function(e){return X("assessteats",e,{useToken:!0,useFarmCode:!0,useJSON:!0})},Q=function(e){return X("assesslocomotions",e,{useToken:!0,useFarmCode:!0,useJSON:!0})},ee=function(e){return X("assessbcss",e,{useToken:!0,useFarmCode:!0,useJSON:!0})},ae=function(e){return X("assessfaecess",e,{useToken:!0,useFarmCode:!0,useJSON:!0})},te=t(693),ne=Object(te.a)({loginTitle:{fontSize:"24px",marginTop:"15vh"},loginSubTitle:{fontSize:"16px",color:"#ccc"},formContainer:{width:"85%",margin:"0 auto"},codeBtn:{minWidth:"84px",marginBottom:2},textField:{marginTop:"40px"},register:{marginTop:"20px",fontSize:"12px"}}),re=t(747),le=t(749),ce=function(e){return r.a.createElement(re.a,{onClick:function(){return e.onClick&&e.onClick()},className:e.className,fullWidth:!0,size:"medium",variant:"contained",color:"primary","aria-label":"Full width outlined button group"},r.a.createElement(W.a,null,e.loading?[r.a.createElement(le.a,{size:18,color:"secondary",style:{marginRight:"10px"},key:"0"}),e.loadingTxt||"\u6b63\u5728\u64cd\u4f5c\u4e2d..."]:e.btnText))},oe=Object(o.b)(function(e){return{isLogin:e.userInfoStore.isLogin}},function(e){return{saveUserInfo:function(a){return e({type:"SAVE_USER_INFO",payload:{userInfo:a}})}}})(function(e){var a=Object(n.useState)({mobileCode:"1234",userNameOrMobile:"test"}),t=Object(A.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)({mobileCode:!0,userNameOrMobile:!0}),i=Object(A.a)(o,2),m=i[0],u=i[1],p=ne(),d=Object(n.useState)(!1),f=Object(A.a)(d,2),b=f[0],E=f[1],g=function(e){return function(a){c(Object(s.a)({},l,Object(D.a)({},e,a.target.value)))}};return r.a.createElement(L.a,null,r.a.createElement("h1",{className:"".concat(p.loginTitle," text-center")},"\u767b\u5f55\u963f\u62c9\u9489\u7267\u573a"),r.a.createElement("h4",{className:"".concat(p.loginSubTitle,"  text-center")},"\u8bf7\u7528\u60a8\u7684\u624b\u673a\u53f7\u6216\u8005\u8d26\u53f7\u767b\u9646"),r.a.createElement("div",{className:p.formContainer},r.a.createElement(R.a,{required:!0,error:!m.userNameOrMobile,helperText:m.userNameOrMobile?"":"\u8bf7\u8f93\u5165\u624b\u673a\u53f7/\u8d26\u53f7",className:p.textField,onChange:g("userNameOrMobile"),value:l.userNameOrMobile,placeholder:"\u624b\u673a\u53f7/\u8d26\u53f7",fullWidth:!0}),r.a.createElement(R.a,{error:!m.mobileCode,helperText:m.mobileCode?"":"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",className:p.textField,onChange:g("mobileCode"),value:l.mobileCode,placeholder:"\u9a8c\u8bc1\u7801",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(z.a,{position:"end"},r.a.createElement(W.a,{variant:"contained",className:p.codeBtn,size:"small",color:"primary"},"\u83b7\u53d6\u9a8c\u8bc1\u7801"))}}),r.a.createElement(ce,{className:p.textField,loading:b,loadingTxt:"\u767b\u5f55\u4e2d",onClick:function(){if(u({mobileCode:Boolean(l.mobileCode),userNameOrMobile:Boolean(l.userNameOrMobile)}),l.mobileCode&&l.userNameOrMobile){E(!0);var a,t=(a={open_id:"8e248087-bf06-4046-86d3-25d5c96018f2"},X("jauth",a,{useToken:!1})).pipe(Object(P.a)(function(e){var a=e.response;return void 0===a?{}:a})).subscribe(function(a){E(!1),t.unsubscribe(),e.saveUserInfo(Object(s.a)({},a,{isLogin:!0})),e.history.push("/selectRanch")},function(e){console.log("error",e),E(!1),t.unsubscribe()})}},btnText:"\u767b\u5f55"})),r.a.createElement(F.a,{container:!0,className:p.register},r.a.createElement(F.a,{item:!0,xs:2}),r.a.createElement(F.a,{item:!0,xs:6},r.a.createElement("span",null,"\u6211\u8fd8\u6ca1\u6709\u8d26\u53f7")),r.a.createElement(F.a,{item:!0,xs:4},r.a.createElement(M.a,{component:v.b,to:"/register"}," \u6211\u8981\u6ce8\u518c "))))}),ie=Object(te.a)({loginTitle:{fontSize:"24px",marginTop:"15vh"},formContainer:{width:"85%",margin:"0 auto"},codeBtn:{minWidth:"84px"},textField:{marginTop:"40px"},register:{marginTop:"20px",fontSize:"12px"},registerSuccess:{width:"85%",margin:"15vh auto 0",color:"#999",textAlign:"center",fontSize:"14px"}}),se=Object(o.b)(null,function(e){return{changeLoginStatus:function(a){return e({type:"CHANGE_LOGIN_STATUS",payload:{loginStatus:a}})}}})(function(e){var a=Object(n.useState)(""),t=Object(A.a)(a,2),l=(t[0],t[1]),c=Object(n.useState)(""),o=Object(A.a)(c,2),i=(o[0],o[1]),s=Object(n.useState)(!1),m=Object(A.a)(s,2),u=m[0],p=m[1],d=ie(),f=function(e){l(e.target.value)};return r.a.createElement(L.a,null,r.a.createElement("h1",{className:"".concat(d.loginTitle," text-center")},"\u963f\u62c9\u9489\u7267\u4e1a\u901a\u7528\u5e73\u53f0"),u?r.a.createElement("div",{className:d.registerSuccess},r.a.createElement("h3",null,"\u6b22\u8fce\u4f7f\u7528\uff0c\u6709\u4efb\u4f55\u95ee\u9898\u8bf7\u81f4\u7535\uff1a"),r.a.createElement("h3",null,"18621812625"),r.a.createElement(re.a,{className:d.textField,fullWidth:!0,size:"medium",variant:"contained",color:"primary","aria-label":"Full width outlined button group"},r.a.createElement(W.a,{onClick:function(){e.history.push("/")}},"\u7ee7\u7eed"))):r.a.createElement("div",{className:d.formContainer},r.a.createElement(R.a,{className:d.textField,onChange:function(e){return f(e)},placeholder:"\u5f55\u5165\u60a8\u7684\u624b\u673a\u53f7",fullWidth:!0}),r.a.createElement(R.a,{className:d.textField,onChange:function(e){return function(e){i(e.target.value)}(e)},placeholder:"\u9a8c\u8bc1\u7801",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(z.a,{position:"end"},r.a.createElement(W.a,{variant:"contained",className:d.codeBtn,size:"small",color:"primary"},"\u83b7\u53d6\u9a8c\u8bc1\u7801"))}}),r.a.createElement(R.a,{className:d.textField,onChange:function(e){return f(e)},placeholder:"\u5f55\u5165\u60a8\u7684\u7267\u573a/\u4f01\u4e1a",fullWidth:!0}),r.a.createElement(re.a,{className:d.textField,fullWidth:!0,size:"medium",variant:"contained",color:"primary","aria-label":"Full width outlined button group"},r.a.createElement(W.a,{onClick:function(){return e.changeLoginStatus(!0),void p(!0)}},"\u6ce8\u518c")),r.a.createElement(F.a,{container:!0,className:d.register},r.a.createElement(F.a,{item:!0,xs:1}),r.a.createElement(F.a,{item:!0,xs:7},r.a.createElement("span",null,"\u5df2\u7ecf\u6709\u8d26\u6237")),r.a.createElement(F.a,{item:!0,xs:4,className:"text-center"},r.a.createElement(M.a,{component:v.b,to:"/login"},"\u767b\u5f55")))))}),me=t(758),ue=t(752),pe=t(808),de=t(759),fe=t(801),be=t(234),Ee=t(695),ge=t(342),he=t(331),ve=t.n(he),ye=t(757),xe=Object(te.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",backgroundColor:"#fff"},input:{marginLeft:8,flex:1},iconButton:{padding:5}}),Oe=function(e){var a=xe(),t=Object(n.useState)(""),l=Object(A.a)(t,2),c=l[0],o=l[1],i=Object(n.useRef)(null),s=function(){(e.searchOnValueIsEmpty||c)&&e.searchMethod&&e.searchMethod(c)};return Object(n.useEffect)(function(){var a=i.current,t=Object(ye.a)(a,"search").pipe(Object(P.a)(function(e){return e.target.value})).subscribe(function(a){console.log("value",a),(e.searchOnValueIsEmpty||a)&&e.searchMethod&&e.searchMethod(a)});return function(){return t.unsubscribe()}},[i,s]),r.a.createElement(be.a,{className:a.root},r.a.createElement(Ee.a,{className:a.input,placeholder:e.placeholder,inputProps:{"aria-label":"\u641c\u7d22\u963f\u62c9\u9489\u7267\u573a"},inputRef:i,value:c,onChange:function(e){return o(e.target.value)},type:"search"}),e.loading?r.a.createElement(ge.a,{className:a.iconButton,"aria-label":"Search",style:{height:"34px"}},r.a.createElement(le.a,{size:21,color:"primary"})):r.a.createElement(ge.a,{className:a.iconButton,"aria-label":"Search",style:{height:"34px"},onClick:s},r.a.createElement(ve.a,{color:c?"primary":"disabled"})))},Ne=(t(372),Object(te.a)({container:{width:"85%",margin:"15vh auto 0"},title:{fontSize:"20px"},textField:{marginTop:"40px"},ranchList:{paddingLeft:10,marginTop:10}})),je=Object(o.b)(null,function(e){return{saveUserInfo:function(a){return e({type:"SAVE_USER_INFO",payload:{userInfo:a}})}}})(function(e){var a=Ne(),t=Object(n.useState)({page:1,page_size:1e3,search:""}),l=Object(A.a)(t,2),c=l[0],o=l[1],i=r.a.useState(!1),m=Object(A.a)(i,2),u=m[0],p=m[1],d=Object(n.useState)(!0),f=Object(A.a)(d,2),b=f[0],E=f[1],g=Object(n.useState)(""),h=Object(A.a)(g,2),v=h[0],y=h[1],x=Object(n.useState)([]),O=Object(A.a)(x,2),N=O[0],j=O[1];Object(n.useEffect)(function(){var e=function(e){return G("farms",e,{useToken:!0})}(c).pipe(Object(P.a)(function(e){var a=e.response;return(void 0===a?{}:a).results||[]})).subscribe(function(e){console.log("data",e),j(e),y(e[0]&&e[0].farm_code||"")},function(e){console.log("error",e)});return function(){e.unsubscribe()}},[c]);var S=Object(n.useState)(""),w=Object(A.a)(S,2),k=w[0],C=w[1];return r.a.createElement("div",{className:"select-ranch-wrapper"},r.a.createElement("div",{className:"select-ranch-container"},r.a.createElement(F.a,{container:!0,alignItems:"center",justify:"space-between"},r.a.createElement(F.a,{item:!0,xs:8},r.a.createElement("h1",{className:a.title},"\u767b\u9646\u963f\u62c9\u9489\u7267\u573a")),r.a.createElement(F.a,{item:!0,xs:4,className:"text-right"},r.a.createElement(me.a,{checked:b,color:"primary",onChange:function(e){E(e.target.checked)}}))),b?[r.a.createElement(Oe,{searchMethod:function(e){return o(Object(s.a)({},c,{search:e}))},searchOnValueIsEmpty:!0,key:"0"}),r.a.createElement(ue.a,{component:"fieldset",className:a.ranchList,key:"1"},r.a.createElement(pe.a,{"aria-label":"position",name:"position",value:v,onChange:function(e){y(e.target.value)}},N.map(function(e){return r.a.createElement(de.a,{key:e.farm_code,value:e.farm_code,control:r.a.createElement(fe.a,{color:"primary"}),label:e.farm_name,labelPlacement:"end"})})))]:r.a.createElement(R.a,{error:u,className:a.textField,placeholder:"\u5f55\u5165\u60a8\u7684\u7267\u573a\u540d\u79f0,\u5982XXX\u7267\u573a",fullWidth:!0,value:k,onChange:function(e){C(e.target.value)},helperText:u?"\u8bf7\u5f55\u5165\u60a8\u7684\u7267\u573a\u540d\u79f0":""}),r.a.createElement(re.a,{className:a.textField,fullWidth:!0,size:"medium",onClick:function(){var a="0";if(b)a="1",e.saveUserInfo({farm_code:v});else if(p(!k),!k)return;e.history.push("/home?isALD=".concat(a)),sessionStorage.setItem("isALD",a)},variant:"contained",color:"primary","aria-label":"Full width outlined button group"},r.a.createElement(W.a,null,"\u786e\u5b9a"))))}),Se=t(189),we=t.n(Se),ke=t(339),Ce=t(810),Te=t(760),Ie=t(761),_e=t(762),De=Object(te.a)(function(e){return{aldFarm:{height:"20vh",backgroundColor:e.palette.primary.main,color:"#fff",paddingTop:20,width:"100%",top:0,"& h4":{marginTop:0,marginBottom:0},position:"fixed"},textWhite:{color:"white"},menuItem:{width:80}}}),Ae=function(e){var a=De(),t=r.a.useState(null),n=Object(A.a)(t,2),l=n[0],c=n[1],o=Boolean(l),i=[{label:"\u6211\u7684",component:r.a.createElement(Te.a,{color:"primary"}),cb:function(){e.history.push("/user")}},{label:"\u9000\u51fa",component:r.a.createElement(Ie.a,{color:"primary"}),cb:function(){e.userLogin({userInfo:{isLogin:!1,token:"",farm_code:""}}),e.history.push("/login")}}];function s(){c(null)}return r.a.createElement(L.a,{className:a.aldFarm},r.a.createElement(F.a,{container:!0},r.a.createElement(F.a,{item:!0,xs:8},r.a.createElement("h4",null,"ALDFarm"),r.a.createElement("h4",null,"\u8fde\u63a5\u7267\u573a\u4e00\u5207\u4fe1\u606f")),r.a.createElement(F.a,{item:!0,xs:4,className:"text-right"},r.a.createElement(ge.a,{"aria-label":"user",className:a.textWhite,onClick:function(e){c(e.currentTarget)}},r.a.createElement(_e.a,null))),r.a.createElement(ke.a,{id:"long-menu",anchorEl:l,keepMounted:!0,open:o,onClose:s,PaperProps:{style:{maxHeight:216}}},i.map(function(e){return r.a.createElement(Ce.a,{key:e.label,onClick:function(){return a=e.cb,s(),void a();var a}},e.component," ",e.label)}))))},Le=Object(te.a)({homeContainer:{height:"100vh",overflowY:"auto",background:"#fff"},homeContent:{marginTop:85,paddingTop:30,paddingBottom:20,zIndex:5,position:"relative",background:"#fff",textAlign:"center",borderTopLeftRadius:"45px 45px",borderTopRightRadius:"45px 45px"},homeContentIcon:{},searchContainer:{width:"85%",margin:"0 auto"}}),Re=function(e){var a=Le(),t=Object(o.c)(),l=Object(n.useState)(!1),c=Object(A.a)(l,2),i=c[0],s=c[1];return r.a.createElement(L.a,{className:a.homeContent},r.a.createElement("div",{className:a.searchContainer},r.a.createElement(Oe,{placeholder:"\u641c\u7d22\u725b\u53ea",searchMethod:function(a){if(console.log("eartag",a),a){var n={page:1,page_size:10,eartag:a};s(!0);var r=Z(n).pipe(Object(P.a)(function(e){return e.response})).subscribe(function(a){if(console.log("data",a),r.unsubscribe(),s(!1),1===a.count){var n=a.results[0],l=n.id,c=n.eartag;e.history.push("/cowDetail/".concat(l,"?eartag=").concat(c))}else t({type:"SHOW_MESSAGE",payload:{open:!0,message:"\u672a\u641c\u5230\u8be5\u725b\u53f7\u7684\u725b\u53ea!",variant:"warning"}})},function(e){s(!0)})}else t({type:"SHOW_MESSAGE",payload:{open:!0,message:"\u8bf7\u8f93\u5165\u725b\u53f7",variant:"warning"}})},loading:i,searchOnValueIsEmpty:!1})),r.a.createElement(F.a,{justify:"center",container:!0},"1"===e.isALD?r.a.createElement(F.a,{item:!0,xs:6},r.a.createElement(M.a,{component:v.b,to:"/manageList/ald"},r.a.createElement("div",{className:"home-entrance-wrapper"},r.a.createElement(S.a,{className:"fs-36-it"}),r.a.createElement("div",null,"\u963f\u62c9\u9489\u8bc4\u4f30")))):r.a.createElement(F.a,{item:!0,xs:6},r.a.createElement(M.a,{component:v.b,to:"/manageList/society"},r.a.createElement("div",{className:"home-entrance-wrapper"},r.a.createElement(S.a,{className:"fs-36-it"}),r.a.createElement("div",null,"\u793e\u4f1a\u7267\u573a\u8bc4\u4f30")))),r.a.createElement(F.a,{item:!0,xs:6},r.a.createElement(M.a,{component:v.b,to:"/tasks"},r.a.createElement("div",{className:"home-entrance-wrapper"},r.a.createElement(S.a,{className:"fs-36-it"}),r.a.createElement("div",null,"\u4efb\u52a1\u6e05\u5355")))),r.a.createElement(F.a,{item:!0,xs:6},r.a.createElement(M.a,{component:v.b,to:"/sceneReport"},r.a.createElement("div",{className:"home-entrance-wrapper"},r.a.createElement(S.a,{className:"fs-36-it"}),r.a.createElement("div",null,"\u73b0\u573a\u62a5\u544a")))),r.a.createElement(F.a,{item:!0,xs:6},r.a.createElement(M.a,{component:v.b,to:"/sceneReport"},r.a.createElement("div",{className:"home-entrance-wrapper"},r.a.createElement(S.a,{className:"fs-36-it"}),r.a.createElement("div",null,"\u5206\u6790\u62a5\u544a"))))))},ze=t(797),We=t(125),Fe=t.n(We),Me=t(763),Pe=function(e){return r.a.createElement(ze.a,{border:1,borderRadius:"borderRadius",borderColor:"#ccc",flex:"0 0 85%",margin:"0 10px"},e.children)},Be=Object(te.a)({chartTitle:{fontSize:"1rem",color:"#111",paddingLeft:"15px"},chartContainer:{color:"#999",padding:"0 0 90px"}}),He={title:{text:"7\u5929\u4ea7\u91cf\u53d8\u5316",textStyle:{fontSize:14},top:5},trigger:"axis",axisPointer:{type:"shadow"},legend:{data:[{name:"\u65e9\u6f6e",icon:"circle"},{name:"\u4e2d\u6f6e",icon:"circle"},{name:"\u665a\u6f6e",icon:"circle"}],top:"10%"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"]}],yAxis:[{type:"value"}],series:[{name:"\u65e9\u6f6e",type:"bar",stack:"\u5e7f\u544a",data:[120,132,101,134,90,230,210]},{name:"\u4e2d\u6f6e",type:"bar",stack:"\u5e7f\u544a",data:[220,182,191,234,290,330,310]},{name:"\u665a\u6f6e",type:"bar",stack:"\u5e7f\u544a",data:[150,232,201,154,190,330,410]}]},Je=function(){var e=Be();return r.a.createElement(ze.a,{className:e.chartContainer,borderTop:1,borderColor:"#ccc"},r.a.createElement(F.a,{container:!0,alignItems:"center",className:e.chartTitle},r.a.createElement(F.a,{item:!0,xs:!0},"\u9884\u8b66\u62a5\u8868"),r.a.createElement(F.a,{item:!0,xs:2,className:"text-right"},r.a.createElement(M.a,{component:v.b,to:"/reports"},r.a.createElement(ge.a,null,r.a.createElement(Me.a,null))))),r.a.createElement(ze.a,{display:"flex",flexWrap:"nowrap",overflow:"scroll"},r.a.createElement(Pe,null,r.a.createElement(Fe.a,{option:He,style:{height:"40vh"}})),r.a.createElement(Pe,null,r.a.createElement(Fe.a,{option:He,style:{height:"40vh"}}))))},Ve=(t(685),function(e){return{type:"SHOW_MESSAGE",payload:e}}),Ue=Object(te.a)({homeContainer:{background:"#fff"}}),Ke=Object(o.b)(function(e){return{isLogin:e.userInfoStore.isLogin}},{userLogin:function(e){return{type:m,payload:Object(s.a)({},e)}}})(function(e){var a=Ue(),t=we.a.parse(e.location.search,!0).query,n=String(t.isALD||sessionStorage.getItem("isALD")||"0");return r.a.createElement("div",{className:a.homeContainer},e.isLogin?null:r.a.createElement(y.a,{to:"/login"}),r.a.createElement(Ae,e),r.a.createElement(Re,Object.assign({isALD:n},e)),r.a.createElement(Je,null))}),qe=t(126),Ge=(t(323),t(194)),Xe=t(766),Ye=t(232),Ze=t.n(Ye),$e=t(764),Qe=Object(te.a)(function(e){return{root:{backgroundColor:e.palette.primary.main,height:48,fontSize:"1rem",textAlign:"center",color:e.palette.primary.contrastText,position:"fixed",fontWeight:"bolder",top:0,left:0,right:0,zIndex:10},icon:{color:"#fff"},input:{marginLeft:8,flex:1,color:"#fff"},iconButton:{padding:10,color:"#fff"},inputBox:{color:"#fff"}}}),ea=Object(y.f)(function(e){var a=Qe(),t=Object(n.useState)(""),l=Object(A.a)(t,2),c=l[0],o=l[1],i=Object(n.useRef)(null),s=function(){e.getSearchValue&&e.getSearchValue(c)};return Object(n.useEffect)(function(){var a=i.current,t=null;return t=a&&Object(ye.a)(a,"search").pipe(Object(P.a)(function(e){return e.target.value})).subscribe(function(a){console.log("value",a),e.getSearchValue&&e.getSearchValue(a)}),function(){return t&&t.unsubscribe()}},[i,s]),r.a.createElement(be.a,{className:a.root,square:!0},r.a.createElement(F.a,{container:!0,alignItems:"center"},r.a.createElement(F.a,{item:!0,xs:2},r.a.createElement(ge.a,{onClick:function(){return e.beforeRouteLeave&&e.beforeRouteLeave(),void e.history.goBack()}},r.a.createElement($e.a,{className:a.icon}))),e.useSearch?r.a.createElement(F.a,{item:!0,xs:"auto",className:a.inputBox},r.a.createElement(Ee.a,{autoFocus:e.autofocus,type:"search",inputRef:i,value:c,onChange:function(e){return o(e.target.value)},className:a.input,placeholder:e.searchPlaceholder,inputProps:{"aria-label":e.searchPlaceholder}}),e.searchLoading?r.a.createElement(ge.a,{className:a.iconButton,"aria-label":"Search"},r.a.createElement(le.a,{size:20,color:"secondary"})):r.a.createElement(ge.a,{className:a.iconButton,"aria-label":"Search",onClick:s},r.a.createElement(k.a,{color:"secondary"}))):[r.a.createElement(F.a,{item:!0,xs:!0,key:"0"},e.title),r.a.createElement(F.a,{item:!0,xs:2,key:"1"},e.endAdorment)]))}),aa=t(765),ta=t(186),na=function(e){var a=Object(ta.a)();return r.a.createElement(aa.a,{style:{backgroundColor:a.palette.primary.main}})},ra=Object(x.a)(function(e){return{selectContainer:{position:"fixed",top:48,left:0,right:0,zIndex:10,background:e.palette.primary.main,color:e.palette.primary.contrastText},contantContainer:{marginTop:110,paddingBottom:70},img:{display:"block",maxWidth:"100%",maxHeight:"100%"},detailBtn:{padding:0},paper:{padding:"5px 0",marginTop:10},circularProgressba:{width:50},circularProgress:{marginRight:10}}}),la=function(e){var a=ra(),n=r.a.useState([]),l=Object(A.a)(n,2),c=l[0],o=l[1],i=r.a.useState(1),m=Object(A.a)(i,2),u=m[0],p=m[1],d=r.a.useState(null),f=Object(A.a)(d,2),b=f[0],E=f[1],g=r.a.useState(!1),h=Object(A.a)(g,2),v=h[0],y=h[1],x=r.a.useState(null),O=Object(A.a)(x,2),N=O[0],j=O[1],S=r.a.useState(null),w=Object(A.a)(S,2),k=w[0],C=w[1],T=r.a.useState(null),I=Object(A.a)(T,2),_=I[0],R=I[1],z=r.a.useState(null),W=Object(A.a)(z,2),M=W[0],B=W[1],H=r.a.useState({BJ:0,FZ:0,SY:0,RW:0}),J=Object(A.a)(H,2),V=J[0],U=J[1],K=[{key:"BJ",anchorEl:N,setAnchorEl:j,options:["\u4fdd\u5065","\u4fdd\u5065\u4e00","\u4fdd\u5065\u4e8c","\u4fdd\u5065\u4e09"]},{key:"FZ",anchorEl:k,setAnchorEl:C,options:["\u7e41\u6b96","\u7e41\u6b96\u4e00","\u7e41\u6b96\u4e8c","\u7e41\u6b96\u4e09"]},{key:"SY",anchorEl:_,setAnchorEl:R,options:["\u9972\u517b","\u9972\u517b\u4e00","\u9972\u517b\u4e8c","\u9972\u517b\u4e09"]},{key:"RW",anchorEl:M,setAnchorEl:B,options:["\u4efb\u52a1","\u4efb\u52a1\u4e00","\u4efb\u52a1\u4e8c","\u4efb\u52a1\u4e09"]}],q={BJ:j,FZ:C,SY:R,RW:B},X=function(e){q[e](null)};return r.a.useEffect(function(){y(!0);var e,a=(e={page:u,page_size:10},G("todotaskruns",e,{useFarmCode:!0,useToken:!0})).pipe(Object(P.a)(function(e){return e.response}),Object(P.a)(function(e){return[e.results,e.next]}),Object(P.a)(function(e){var a=Object(A.a)(e,2),t=a[0],n=a[1];return[t.map(function(e){return Object(s.a)({},e,{toNowDate:Ze()(e.run_date).diff(Ze()(),"day")})}),n]})).subscribe(function(e){console.log("data",e),o(c.concat(e[0])),E(e[1]),y(!1)});return function(){return a.unsubscribe()}},[u]),r.a.createElement(ze.a,null,r.a.createElement(ea,{title:"\u4efb\u52a1\u6e05\u5355"}),r.a.createElement(ze.a,{className:a.selectContainer},r.a.createElement(F.a,{container:!0},K.map(function(e,a){return r.a.createElement(F.a,{item:!0,xs:3,key:"".concat(e.key,"-").concat(a),container:!0,justify:"center"},r.a.createElement(ge.a,{color:"inherit","aria-label":"More","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(a){return e.setAnchorEl(a.currentTarget)}},r.a.createElement(ze.a,{fontSize:"12px"},e.options[V[e.key]]),r.a.createElement(Xe.a,null)),r.a.createElement(ke.a,{id:"long-menu",anchorEl:e.anchorEl,keepMounted:!0,open:Boolean(e.anchorEl),onClose:function(){return X(e.key)},PaperProps:{style:{maxHeight:216}}},e.options.map(function(a,t){return r.a.createElement(Ce.a,{key:a,selected:t===V[e.key],onClick:function(a){return function(e,a,t){U(Object(s.a)({},V,Object(D.a)({},a,t))),X(a)}(0,e.key,t)}},a)})))}))),r.a.createElement(L.a,{className:a.contantContainer},c.map(function(n,l){return r.a.createElement(be.a,{className:a.paper,key:"tasks-item-".concat(l)},r.a.createElement(ze.a,{position:"relative"},r.a.createElement(F.a,{container:!0},r.a.createElement(F.a,{item:!0,xs:2,container:!0,justify:"center",alignItems:"center"},r.a.createElement(ze.a,{paddingX:"5px"},r.a.createElement("img",{className:a.img,alt:"complex",src:n.photo?n.photo:t(324)}))),r.a.createElement(F.a,{item:!0,xs:10,container:!0},r.a.createElement(F.a,{item:!0,xs:"auto",container:!0,direction:"column"},r.a.createElement(F.a,{item:!0,xs:!0},r.a.createElement(Ge.a,{gutterBottom:!0,variant:"subtitle1"},n.todotask_name),r.a.createElement(Ge.a,{variant:"subtitle2",gutterBottom:!0},r.a.createElement(ze.a,{fontSize:"12px"},n.content),r.a.createElement(ze.a,{fontSize:"12px"},"100/84 \u5b8c\u5de5\u671f\u9650 ",n.toNowDate>0?n.toNowDate:0,"\u5929"),r.a.createElement(ze.a,{fontSize:"12px"},"\u4efb\u52a1\u65e5\u671f ",n.run_date.split(" ")[0]," ",n.toNowDate>0?"\u8ddd\u4eca":"\u5df2\u8d85",Math.abs(n.toNowDate),"\u5929"))),r.a.createElement(F.a,{item:!0},r.a.createElement(na,null),r.a.createElement(Ge.a,{variant:"subtitle2",gutterBottom:!0},r.a.createElement(ge.a,{className:a.detailBtn},r.a.createElement(ze.a,{fontSize:"12px"},"\u660e\u7ec6"),r.a.createElement(Xe.a,{color:"primary"}))))))),r.a.createElement(ze.a,{position:"absolute",right:"5px",top:"10%",onClick:function(){return e.history.push("/tasksDetail/".concat(n.id))}},r.a.createElement(qe.a,{className:a.circularProgressba,value:75,text:"75%",styles:Object(qe.b)({pathColor:"rgba(207, 0, 15, ".concat(.75,")"),textColor:"rgba(207, 0, 15, ".concat(.75,")")})}))))}),v?r.a.createElement(ze.a,{display:"flex",justifyContent:"center",alignItems:"center",className:"text-center",marginTop:"20px",fontSize:"12px"},r.a.createElement(le.a,{size:15,className:a.circularProgress}),"\u6b63\u5728\u52a0\u8f7d\u4e2d..."):r.a.createElement(ze.a,{className:"text-center",marginTop:"20px",onClick:function(){b&&p(u+1)},fontSize:"12px"},b?"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a":"\u6ca1\u6709\u66f4\u591a\u4e86")))},ca=t(767),oa=t(768),ia=t(769),sa=t(770),ma=t(771),ua=t(803),pa=t(3),da=Object(x.a)(function(e){return{circularProgressba:{width:50},root:{height:"23vh",padding:10,paddingTop:50},tablecell:{padding:"10px 5px"},table:{background:"#fff"},tableHeader:{color:e.palette.primary.main}}});function fa(e,a,t,n){return{cowNumber:e,cowshed:a,date:t,statusLabel:n}}var ba=[fa("1001","2\u53f7\u68da","2019-03-10","\u662f"),fa("1002","2\u53f7\u68da","2019-03-10","\u5426"),fa("1003","2\u53f7\u68da","2019-03-10","\u662f")],Ea=function(e){var a=da(),t=r.a.useState([]),n=Object(A.a)(t,2),l=(n[0],n[1]);return r.a.useEffect(function(){var a,t=e.match.params.id,n=(a={id:t},G("todotaskruns",a,{useFarmCode:!0,useToken:!0,useId:!0})).pipe(Object(P.a)(function(e){return e.response})).subscribe(function(e){console.log("data",e),l(e)});return function(){return n.unsubscribe()}},[]),r.a.createElement(ze.a,null,r.a.createElement(ea,{title:"\u5b8c\u5de5\u5355\u660e\u7ec6"}),r.a.createElement(F.a,{container:!0,className:a.root,alignItems:"center"},r.a.createElement(F.a,{item:!0,xs:!0},r.a.createElement(ze.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(ze.a,{fontSize:12},"\u4efb\u52a1 100\uff0c \u5b8c\u6210 75"),r.a.createElement(ua.a,{name:"half-rating",value:3.75,readOnly:!0}))),r.a.createElement(F.a,{item:!0,xs:"auto"},r.a.createElement(qe.a,{className:a.circularProgressba,value:75,text:"75%",styles:Object(qe.b)({pathColor:"rgba(207, 0, 15, ".concat(.75,")"),textColor:"rgba(207, 0, 15, ".concat(.75,")")})}))),r.a.createElement(aa.a,null),r.a.createElement(ca.a,{className:a.table},r.a.createElement(oa.a,null,r.a.createElement(ia.a,null,r.a.createElement(sa.a,{align:"center",className:Object(pa.a)(a.tablecell,a.tableHeader)},"\u725b\u53f7"),r.a.createElement(sa.a,{align:"center",className:Object(pa.a)(a.tablecell,a.tableHeader)},"\u725b\u820d"),r.a.createElement(sa.a,{align:"center",className:Object(pa.a)(a.tablecell,a.tableHeader)},"\u4efb\u52a1\u65e5\u671f"),r.a.createElement(sa.a,{align:"center",className:Object(pa.a)(a.tablecell,a.tableHeader)},"\u662f\u5426\u5b8c\u6210"))),r.a.createElement(ma.a,null,ba.map(function(t){return r.a.createElement(ia.a,{hover:!0,key:t.cowNumber},r.a.createElement(sa.a,{align:"center",className:a.tablecell,onClick:function(){return e.history.push("/cowDetail/1")}},t.cowNumber),r.a.createElement(sa.a,{align:"center",className:a.tablecell},t.cowshed),r.a.createElement(sa.a,{align:"center",className:a.tablecell},t.date),r.a.createElement(sa.a,{align:"center",className:a.tablecell},t.statusLabel))}))))},ga={title:{text:"7\u5929\u4ea7\u91cf\u53d8\u5316",textStyle:{fontSize:14},top:5},trigger:"axis",axisPointer:{type:"shadow"},legend:{data:[{name:"\u65e9\u6f6e",icon:"circle"},{name:"\u4e2d\u6f6e",icon:"circle"},{name:"\u665a\u6f6e",icon:"circle"}],top:"10%"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"]}],yAxis:[{type:"value"}],series:[{name:"\u65e9\u6f6e",type:"bar",stack:"\u5e7f\u544a",data:[120,132,101,134,90,230,210]},{name:"\u4e2d\u6f6e",type:"bar",stack:"\u5e7f\u544a",data:[220,182,191,234,290,330,310]},{name:"\u665a\u6f6e",type:"bar",stack:"\u5e7f\u544a",data:[150,232,201,154,190,330,410]}]},ha=(t(686),Object(te.a)({root:{marginTop:60}})),va=function(){var e=ha();return r.a.createElement(L.a,{className:e.root},r.a.createElement(ea,{title:"\u9884\u8b66\u62a5\u8868"}),r.a.createElement(be.a,{className:"mt-15"},r.a.createElement(Fe.a,{option:ga,style:{height:"40vh"}})),r.a.createElement(be.a,{className:"mt-15"},r.a.createElement(Fe.a,{option:ga,style:{height:"40vh"}})))},ya=t(800),xa=t(772),Oa=t(773),Na=t(774),ja=t(775),Sa=t(776),wa=Object(x.a)({root:{flexGrow:1,position:"fixed",top:48,width:"100vw"},reviewListContainer:{paddingTop:96},media:{height:120}}),ka={ald:"\u963f\u62c9\u9489\u7267\u573a",society:"\u793e\u4f1a\u7267\u573a"},Ca=function(e){var a=wa(),l=Object(n.useState)(0),c=Object(A.a)(l,2),o=c[0],i=c[1],s=[{title:"\u4e73\u5934\u8bc4\u5206",img:t(170),value:0},{title:"\u884c\u8d70\u8bc4\u5206",img:t(170),value:1},{title:"\u4f53\u51b5\u8bc4\u5206",img:t(170),value:2},{title:"\u7caa\u4fbf\u8bc4\u5206",img:t(170),value:3}],m=e.match.params.type;return r.a.createElement("div",null,r.a.createElement(ea,{title:"".concat(ka[m],"-\u73b0\u573a\u7ba1\u7406\u6e05\u5355")}),r.a.createElement(be.a,{className:a.root,square:!0},r.a.createElement(ya.a,{value:o,onChange:function(a,t){i(t),t&&e.history.push("/viewCowshed/".concat(m))},indicatorColor:"primary",textColor:"primary",centered:!0,variant:"fullWidth"},r.a.createElement(xa.a,{label:"\u73b0\u573a\u8bc4\u5206"}),r.a.createElement(xa.a,{label:"\u725b\u820d\u5de1\u68da"}))),r.a.createElement(F.a,{container:!0,justify:"space-around",className:a.reviewListContainer},s.map(function(t){return r.a.createElement(F.a,{item:!0,xs:5,key:t.title,className:"mt-15-it"},r.a.createElement(Oa.a,{onClick:function(){return e.history.push("/reviewDetail/".concat(m,"/").concat(t.value))}},r.a.createElement(Na.a,null,r.a.createElement(ja.a,{className:a.media,image:t.img,title:"Contemplative Reptile"})),r.a.createElement(Sa.a,null,r.a.createElement(W.a,{size:"small",color:"primary"},t.title))))})))},Ta=t(751),Ia=t(802),_a=t(779),Da=t(780),Aa=t(127),La=t(191),Ra=t(333),za=t.n(Ra),Wa=t(777),Fa=t(778),Ma=t(338);function Pa(){return r.a.createElement("span",{style:{color:"red"}},"*")}for(var Ba=Object(te.a)({flexbox:{display:"flex",alignItems:"center",justifyContent:"center"},img:{display:"block",width:"100%",height:"90px"},deleteIcon:{color:"red"}}),Ha=function(e){var a=Ba(),t=Object(Ma.a)({accept:"image/*",onDrop:function(a){var t=e.photo.concat(a.map(function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}));e.saveReviewDetail({photo:t})}}),n=t.getRootProps,l=t.getInputProps;return r.a.createElement(F.a,{container:!0},r.a.createElement(F.a,{item:!0,xs:!0},r.a.createElement(F.a,{container:!0,alignItems:"center"},e.textAreaRequired?r.a.createElement(F.a,{item:!0,xs:1},r.a.createElement(Pa,null)):null,r.a.createElement(F.a,{item:!0,xs:!0},r.a.createElement(R.a,{id:"outlined-textarea",label:e.labelText,multiline:!0,margin:"normal",variant:"outlined",fullWidth:!0,value:e.note,onChange:function(a){return e.saveReviewDetail({note:a.target.value})}})))),r.a.createElement(F.a,{item:!0,xs:2,className:a.flexbox},r.a.createElement(ze.a,n({className:"dropzone"}),r.a.createElement("input",l()),r.a.createElement(ge.a,null,r.a.createElement(Pa,null),r.a.createElement(Wa.a,{color:"primary"})))),r.a.createElement(F.a,{container:!0,spacing:1,alignItems:"center"},e.photo.map(function(t,n){return r.a.createElement(F.a,{item:!0,xs:4,key:"img-file-".concat(n)},r.a.createElement(ze.a,{position:"relative"},r.a.createElement("img",{className:a.img,src:t.preview,alt:"img-file-".concat(n)}),r.a.createElement(ze.a,{position:"absolute",top:"-20px",right:"-20px"},r.a.createElement(ge.a,{className:a.deleteIcon,onClick:function(){return function(a){var t=za()(a,1,e.photo);e.photo.forEach(function(e){return URL.revokeObjectURL(e.preview)}),e.saveReviewDetail({photo:t})}(n)}},r.a.createElement(Fa.a,null)))))})))},Ja=Object(te.a)({root:{marginTop:60,height:"100vh",overflowY:"auto"},InputAdornment:{"& p":{width:65}},inputAdornment:{"& p":{width:45}},flexbox:{display:"flex",alignItems:"center",justifyContent:"center"},btnMargin:{marginTop:0},btnContainer:{fontSize:12,lineHeight:1,color:"#111"}}),Va=[{value:"0",label:"\u5e72\u5976\u725b"},{value:"1",label:"\u65b0\u4ea7\u725b"},{value:"2",label:"\u65e9\u671f\u725b"},{value:"3",label:"\u4e2d\u671f\u725b"},{value:"4",label:"\u540e\u671f\u725b"}],Ua=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"\u778e\u5976\u5934",value:"0"}],Ka=[],qa=1;qa<=5;qa+=.25)Ka.push({label:String(qa),value:String(qa)});var Ga=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"}],Xa={ald:"\u963f\u62c9\u9489\u7267\u573a",society:"\u793e\u4f1a\u7267\u573a"},Ya={0:"\u4e73\u5934\u8bc4\u5206",1:"\u884c\u8d70\u8bc4\u5206",2:"\u4f53\u51b5\u8bc4\u5206",3:"\u7caa\u4fbf\u8bc4\u5206"},Za=[{label:"\u5de6\u524d",key:"lf"},{label:"\u5de6\u540e",key:"lb"},{label:"\u53f3\u524d",key:"rf"},{label:"\u53f3\u540e",key:"rb"}],$a={0:function(e){e.assesser;var a=e.cow,t=e.lf,n=e.lb,r=e.rf,l=e.rb,c=e.photo;return!a.value||!c.length||!t||!n||!r||!l||!1},1:function(e){e.assesser;var a=e.photo,t=e.cow,n=e.cowType,r=e.results;return!t.value||!a.length||!n||!r||!1},2:function(e){e.assesser;var a=e.results,t=e.cowType,n=e.cow,r=e.photo;return!a||!t||!n.value||!r.length||!1},3:function(e){e.assesser;var a=e.cowshed,t=e.cowType,n=e.results;return!a.value||!t||!n||!1}},Qa={0:function(e){return{cow_id:e.cow.value,note:e.note,lf:e.lf,rf:e.rf,rb:e.rb,lb:e.lb,assess_time:e.assessDate,assesser:e.assesser.value,add_event:e.add_event}},1:function(e){return{cow_id:e.cow.value,note:e.note,cow_type:e.cowType,locomotion_score:e.results,assess_time:e.assessDate,assesser:e.assesser.value,add_event:e.add_event}},2:function(e){return{cow_id:e.cow.value,note:e.note,bcs:e.results,assess_time:e.assessDate,assesser:e.assesser.value,add_event:e.add_event,cow_type:e.cowType}},3:function(e){return{cow_type:e.cowType,fs:e.results,pen:e.cowshed.value,note:e.note,assess_time:e.assessDate,assesser:e.assesser.value,add_event:e.add_event}}},et=function(e){return{type:"SAVE_REVIEW_DETAIL",payload:e}},at=function(e){return{type:"SAVE_CONTENT",payload:e}},tt=function(e){return{type:"ADD_CONTENT",payload:e}},nt=function(e){return{type:"CLEAR_STATE",payload:e}},rt=t(799),lt=Object(o.b)(function(e){return Object(s.a)({},e.reviewDetailStore)},{saveReviewDetail:et,saveContent:at,addContent:tt,clearState:nt,showMessage:Ve})(function(e){var a=Ja(),t=r.a.useState(!1),n=Object(A.a)(t,2),l=n[0],c=n[1],o=e.match.params,i=o.ranchType,s=o.reviewType,m=3!==+s,u=2===+s,p="".concat(Ya[s],"-\u4e1a\u52a1\u5907\u6ce8"),d=u?Ka:Ga,f=function(){e.clearState()};var b=function(){if(!l){var a={0:$,1:Q,2:ee,3:ae};if($a[s](e))return console.log("hasError","\u5b58\u5728\u5fc5\u586b\u9879\u4e3a\u586b\u5199"),void e.showMessage({variant:"warning",open:!0,message:"\u5b58\u5728\u672a\u586b\u5145\u7684\u5fc5\u586b\u9879!"});c(!0);var t=Qa[s](e),n=function(){var a=new FormData;return e.photo.forEach(function(e){return a.append("imgs",e)}),Y(a).pipe(Object(P.a)(function(e){return e.response.upload_imgs}))}().pipe(Object(rt.a)(function(e){return t.photo=e.toString(),(0,a[s])(JSON.stringify(t))})).subscribe(function(a){console.log("data",a),e.showMessage({variant:"success",open:!0,message:"\u64cd\u4f5c\u6210\u529f"}),f()},function(e){console.error("error",e),c(!1)},function(){c(!1),n.unsubscribe()})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ea,{title:"".concat(Xa[i],"-").concat(Ya[s]),beforeRouteLeave:f}),r.a.createElement(L.a,{className:a.root},r.a.createElement(ue.a,{fullWidth:!0},r.a.createElement(Ta.a,{value:e.assesser.label,placeholder:"\u70b9\u51fb\u9009\u62e9\u8bc4\u4f30\u4eba\u59d3\u540d",onFocus:function(){return e.history.push("/commonSelectList/user")},startAdornment:r.a.createElement(z.a,{className:a.InputAdornment,position:"start"},"\u8bc4\u4f30\u4eba:")})),r.a.createElement(ue.a,{fullWidth:!0,margin:"normal"},r.a.createElement(Aa.b,{utils:La.a,locale:"zh-cn"},r.a.createElement(Aa.a,{id:"mui-pickers-date",label:"\u8bc4\u4f30\u65e5\u671f",format:"yyyy-MM-dd",value:e.assessDate,onChange:function(a){return e.saveReviewDetail({assessDate:a})},okLabel:"\u786e\u5b9a",cancelLabel:"\u53d6\u6d88"}))),r.a.createElement(Ha,{labelText:p,photo:e.photo,note:e.note,saveReviewDetail:e.saveReviewDetail,textAreaRequired:!1}),r.a.createElement(ze.a,null,r.a.createElement(ze.a,null,r.a.createElement(ue.a,{margin:"dense",fullWidth:!0},r.a.createElement(Ta.a,{value:m?e.cow.label:e.cowshed.label,onFocus:function(){return e.history.push("/commonSelectList/".concat(m?"cow":"cowshed"))},placeholder:"\u8bf7\u9009\u62e9\u725b".concat(m?"":"\u820d","\u53f7"),startAdornment:r.a.createElement(z.a,{className:a.InputAdornment,position:"start"},r.a.createElement(Pa,null),"\u725b",m?"\u53f7":"\u820d",":"),endAdornment:3===+s?r.a.createElement(z.a,{position:"end"},"#"):null})),0!==+s?[r.a.createElement(ue.a,{margin:"dense",fullWidth:!0,key:"0"},r.a.createElement(R.a,{select:!0,InputProps:{startAdornment:r.a.createElement(z.a,{className:a.InputAdornment,position:"start"},r.a.createElement("p",null,r.a.createElement(Pa,null),"\u7c7b\u578b:"))},onChange:function(a){return e.saveReviewDetail({cowType:a.target.value})},value:e.cowType},Va.map(function(e){return r.a.createElement(Ce.a,{key:e.value,value:e.value},e.label)}))),r.a.createElement(ue.a,{margin:"dense",fullWidth:!0,key:"1"},r.a.createElement(R.a,{select:!0,InputProps:{startAdornment:r.a.createElement(z.a,{className:a.InputAdornment,position:"start"},r.a.createElement("p",null,r.a.createElement(Pa,null),"\u7ed3\u679c:"))},onChange:function(a){return e.saveReviewDetail({results:a.target.value})},value:e.results},d.map(function(e){return r.a.createElement(Ce.a,{key:e.value,value:e.value},e.label)})))]:r.a.createElement(F.a,{container:!0,spacing:1},Za.map(function(t){return r.a.createElement(F.a,{item:!0,xs:6,key:t.key},r.a.createElement(ue.a,{margin:"dense",fullWidth:!0},r.a.createElement(R.a,{select:!0,InputProps:{startAdornment:r.a.createElement(z.a,{className:a.inputAdornment,position:"start"},r.a.createElement("p",null,r.a.createElement(Pa,null),t.label+":"))},onChange:function(a){return e.saveReviewDetail(Object(D.a)({},t.key,a.target.value))},value:e[t.key]},Ua.map(function(e){return r.a.createElement(Ce.a,{key:e.value,value:e.value},e.label)}))))})))),r.a.createElement(ze.a,{className:a.btnContainer},r.a.createElement(de.a,{className:a.btnContainer,control:r.a.createElement(Ia.a,{checked:e.add_event,onChange:function(a){return e.saveReviewDetail({add_event:a.target.checked})},icon:r.a.createElement(_a.a,{fontSize:"small"}),checkedIcon:r.a.createElement(Da.a,{fontSize:"small"}),value:"add_event",color:"primary"}),classes:{label:a.btnContainer},label:"\u662f\u5426\u751f\u6210\u963f\u62c9\u9489\u4e8b\u4ef6"}),r.a.createElement(ce,{btnText:"\u63d0\u4ea4",onClick:function(){return b()},loading:l,className:a.btnMargin}))))}),ct=Object(te.a)({root:{marginTop:60,height:"100vh",overflowY:"auto"},inputAdornment:{"& p":{width:75}},inputAdornment2:{"& p":{width:92}},flexbox:{display:"flex",alignItems:"center",justifyContent:"center"},btnMargin:{marginTop:0},btnContainer:{fontSize:12,lineHeight:1,color:"#111",marginTop:20}}),ot={ald:"\u963f\u62c9\u9489\u7267\u573a",society:"\u793e\u4f1a\u7267\u573a"},it={saveContent:at,clearState:nt,addContent:tt,saveReviewDetail:et,showMessage:Ve},st=Object(o.b)(function(e){return Object(s.a)({},e.reviewDetailStore)},it)(function(e){var a=e.match.params.ranchType,t=ct(),l=r.a.useState(!1),c=Object(A.a)(l,2),o=c[0],i=c[1],s=Object(n.useState)([]),m=Object(A.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)([]),f=Object(A.a)(d,2),b=f[0],E=f[1],g="".concat(ot[a],"-\u725b\u820d\u5de1\u68da"),h=function(){e.clearState()};var v=function(){if(!o){if(!e.type||!e.sub_type||!e.note||!e.photo.length||!e.cowshed.value)return console.log("hasError","\u5b58\u5728\u5fc5\u586b\u9879\u4e3a\u586b\u5199"),void e.showMessage({variant:"warning",open:!0,message:"\u5b58\u5728\u672a\u586b\u5145\u7684\u5fc5\u586b\u9879!"});var a={type:e.type,sub_type:e.sub_type,location:e.cowshed.value,content:e.note,photo:e.photo.toString(),tasker:e.assesser.value,start_time:e.assessDate2,note:e.note};i(!0);var t=function(){var a=new FormData;return e.photo.forEach(function(e){return a.append("imgs",e)}),Y(a).pipe(Object(P.a)(function(e){return e.response.upload_imgs}))}().pipe(Object(rt.a)(function(e){return a.photo=e.toString(),t=JSON.stringify(a),X("mtodotasks",t,{useToken:!0,useFarmCode:!0,useJSON:!0});var t})).subscribe(function(a){console.log("data",a),e.showMessage({variant:"success",open:!0,message:"\u64cd\u4f5c\u6210\u529f"}),h()},function(e){console.error("error",e),i(!1)},function(){i(!1),t.unsubscribe()})}};return r.a.useEffect(function(){var a=u.find(function(a){return+a.id===e.type}),t=a&&a.sub_tasktypes;E(t||[])},[u,e.type]),r.a.useEffect(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return G("todotasktypes",e,{useFarmCode:!1,useToken:!0})}({page:1,page_size:100}).pipe(Object(P.a)(function(e){return e.response})).subscribe(function(e){console.log("data",e),p(e)},function(e){console.log("err",e)});return function(){return e.unsubscribe()}},[]),r.a.createElement("div",null,r.a.createElement(ea,{title:g,beforeRouteLeave:h}),r.a.createElement(L.a,{className:t.root},r.a.createElement(ue.a,{margin:"dense",fullWidth:!0},r.a.createElement(Ta.a,{onFocus:function(){return e.history.push("/commonSelectList/user")},value:e.assesser.label,placeholder:"\u70b9\u51fb\u9009\u62e9\u8d23\u4efb\u4eba",startAdornment:r.a.createElement(z.a,{className:t.inputAdornment,position:"start"},"\u8d23\u4efb\u4eba:")})),r.a.createElement(ue.a,{margin:"dense",fullWidth:!0},r.a.createElement(R.a,{select:!0,InputProps:{startAdornment:r.a.createElement(z.a,{className:t.inputAdornment,position:"start"},r.a.createElement("p",null,r.a.createElement(Pa,null),"\u4efb\u52a1\u7c7b\u578b:"))},onChange:function(a){return e.saveReviewDetail({type:a.target.value})},value:e.type},u.map(function(e){return r.a.createElement(Ce.a,{key:e.id,value:e.id},e.task_name_lang)}))),r.a.createElement(ue.a,{margin:"dense",fullWidth:!0},r.a.createElement(R.a,{select:!0,InputProps:{startAdornment:r.a.createElement(z.a,{className:t.inputAdornment2,position:"start"},r.a.createElement("p",null,r.a.createElement(Pa,null),"\u5b50\u4efb\u52a1\u7c7b\u578b:"))},onChange:function(a){return e.saveReviewDetail({sub_type:a.target.value})},value:e.sub_type},b.map(function(e){return r.a.createElement(Ce.a,{key:e.id,value:e.id},e.task_name_lang)}))),r.a.createElement(ue.a,{fullWidth:!0,margin:"normal"},r.a.createElement(Aa.b,{utils:La.a,locale:"zh-cn"},r.a.createElement(Aa.a,{id:"mui-pickers-date",label:"\u5de1\u68da\u65e5\u671f",format:"yyyy-MM-dd",value:e.assessDate2,onChange:function(a){return e.saveReviewDetail({assessDate2:a})},okLabel:"\u786e\u5b9a",cancelLabel:"\u53d6\u6d88",shouldDisableDate:function(a){return null===a||a.toMillis()<e.assessDate.toMillis()}}))),r.a.createElement(ze.a,null,r.a.createElement(ue.a,{margin:"dense",fullWidth:!0},r.a.createElement(Ta.a,{value:e.cowshed.label,onFocus:function(){return e.history.push("/commonSelectList/cowshed")},placeholder:"\u70b9\u51fb\u9009\u62e9\u725b\u820d\u53f7",startAdornment:r.a.createElement(z.a,{className:t.inputAdornment,position:"start"},r.a.createElement("p",null,r.a.createElement(Pa,null),"\u5de1\u89c6\u70b9:")),endAdornment:r.a.createElement(z.a,{position:"end",className:"".concat(t.inputAdornment," text-right")},"#\u728a\u725b\u820e")})),r.a.createElement(Ha,{labelText:"\u5de1\u89c6\u70b9\uff0c\u95ee\u9898\u63cf\u8ff0",photo:e.photo,note:e.note,saveReviewDetail:e.saveReviewDetail,textAreaRequired:!0})),r.a.createElement(ze.a,{className:t.btnContainer},r.a.createElement(ce,{btnText:"\u63d0\u4ea4",onClick:function(){return v()},className:t.btnMargin,loading:o}))))}),mt=function(e,a,t,n){return{name:e,date:a,type:t,id:n}},ut=(mt("\u98ce\u6e05\u626c","2019-03-10","\u4e73\u5934\u8bc4\u5206",1),mt("\u4efb\u6211\u884c","2019-03-10","\u884c\u8d70\u8bc4\u5206",2),mt("\u98ce\u6e05\u626c","2019-03-10","\u5de1\u68da\u8bc4\u5206",3),mt("\u4efb\u6211\u884c","2019-03-10","\u4f53\u51b5\u8bc4\u5206",4),Object(te.a)(function(e){return{root:{paddingTop:48},tableHeader:{color:e.palette.primary.main},circularProgress:{marginRight:10},tableItemWidth:{width:"22vw"},tablePadding:{padding:"14px 0px"}}})),pt=function(e){var a=ut(),t=r.a.useState({page:1,page_size:10}),l=Object(A.a)(t,2),c=l[0],o=l[1],i=r.a.useState([]),m=Object(A.a)(i,2),u=m[0],p=m[1],d=r.a.useState(null),f=Object(A.a)(d,2),b=f[0],E=f[1],g=r.a.useState(!1),h=Object(A.a)(g,2),v=h[0],y=h[1],x=Object(pa.a)(a.tableHeader,a.tablePadding);return Object(n.useEffect)(function(){y(!0);var e=function(e){return G("onsiteassessments",e,{useToken:!0,useFarmCode:!0})}(c).pipe(Object(P.a)(function(e){return e.response}),Object(P.a)(function(e){return[e.results,e.next]})).subscribe(function(e){console.log("data",e);var a=e[0];p(u.concat(a)),E(e[1]),y(!1)});return function(){return e.unsubscribe()}},[c]),r.a.createElement(ze.a,{className:a.root},r.a.createElement(ea,{title:"\u73b0\u573a\u62a5\u544a-\u6e05\u5355"}),r.a.createElement(be.a,{square:!0},r.a.createElement(ca.a,null,r.a.createElement(oa.a,null,r.a.createElement(ia.a,null,r.a.createElement(sa.a,{className:x,align:"center"},"\u4eba\u5458"),r.a.createElement(sa.a,{className:x,align:"center"},"\u65e5\u671f"),r.a.createElement(sa.a,{className:x,align:"center"},"\u7c7b\u578b"),r.a.createElement(sa.a,{className:x,align:"center"},"\u8be6\u60c5"))),r.a.createElement(ma.a,null,u.map(function(e){return r.a.createElement(ia.a,{key:e.id},r.a.createElement(sa.a,{align:"center",className:a.tablePadding},e.assessr_name),r.a.createElement(sa.a,{align:"center",className:a.tablePadding},e.assess_date),r.a.createElement(sa.a,{align:"center",className:a.tablePadding},e.assesstype_name),r.a.createElement(sa.a,{align:"center",className:a.tablePadding},r.a.createElement("a",{href:e.pdf,download:!0,className:a.tableHeader},"\u4e0b\u8f7d")))})))),v?r.a.createElement(ze.a,{display:"flex",justifyContent:"center",alignItems:"center",className:"text-center",marginTop:"20px",fontSize:"12px"},r.a.createElement(le.a,{size:15,className:a.circularProgress}),"\u6b63\u5728\u52a0\u8f7d\u4e2d..."):r.a.createElement(ze.a,{className:"text-center",marginTop:"20px",onClick:function(){b&&o(Object(s.a)({},c,{page:c.page+1}))},fontSize:"12px"},b?"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a":"\u6ca1\u6709\u66f4\u591a\u4e86"))},dt=t(128),ft=Object(x.a)(function(e){return{root:{paddingTop:50,marginBottom:70,overflowY:"auto",boxSizing:"border-box"},paper:{margin:"0 4vw",borderRadius:5,marginTop:15,padding:"10px 0"},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},infoItem:{fontSize:14,lineHeight:1.5,color:"#111"},spanLeft:{width:70},circularProgress:{marginRight:10}}}),bt=function(e){var a=ft(),n=r.a.useState({page:1,page_size:10,search:"",fromMore:!1}),l=Object(A.a)(n,2),c=l[0],o=l[1],i=r.a.useState([]),m=Object(A.a)(i,2),u=m[0],p=m[1],d=r.a.useState(null),f=Object(A.a)(d,2),b=f[0],E=f[1],g=r.a.useState(!1),h=Object(A.a)(g,2),y=h[0],x=h[1],O=r.a.useState(!1),N=Object(A.a)(O,2),j=N[0],S=N[1];return r.a.useEffect(function(){x(!0);var e=JSON.parse(JSON.stringify(c));delete e.fromMore;var a=Z(e).pipe(Object(P.a)(function(e){return e.response}),Object(P.a)(function(e){return[e.results,e.next]})).subscribe(function(e){console.log("data",e);var a=e[0];p(c.fromMore?u.concat(a):a),E(e[1]),x(!1),S(!1)});return function(){return a.unsubscribe()}},[c]),r.a.createElement(ze.a,{className:a.root},r.a.createElement(ea,{title:"\u67e5\u627e\u725b\u53ea",useSearch:!0,searchLoading:j,searchPlaceholder:"\u8bf7\u8f93\u5165\u725b\u53f7",getSearchValue:function(e){S(!0),o(Object(s.a)({},c,{fromMore:!1,page:1,search:e}))}}),u.map(function(e,n){return r.a.createElement(M.a,{component:v.b,to:"/cowDetail/".concat(e.id,"?eartag=").concat(e.eartag),key:"cow-item-".concat(n)},r.a.createElement(be.a,{className:a.paper,square:!0},r.a.createElement(F.a,{container:!0},r.a.createElement(F.a,{item:!0,xs:3,container:!0,justify:"center",alignItems:"center"},r.a.createElement(L.a,null,r.a.createElement(dt.a,null,r.a.createElement("img",{className:a.img,alt:"complex",src:t(324)})))),r.a.createElement(F.a,{item:!0,xs:!0},r.a.createElement("div",{className:a.infoItem},r.a.createElement("span",{className:a.spanLeft},"\u725b\u53f7:"),r.a.createElement("span",null,e.eartag)),r.a.createElement("div",{className:a.infoItem},r.a.createElement("span",{className:a.spanLeft},"\u6240\u5c5e\u725b\u820e:"),r.a.createElement("span",null,e.pen_name)),r.a.createElement("div",{className:a.infoItem},r.a.createElement("span",{className:a.spanLeft},"\u7c7b\u578b:"),r.a.createElement("span",null,e.cbrd||"\u6682\u65e0"))))))}),y?r.a.createElement(ze.a,{display:"flex",justifyContent:"center",alignItems:"center",className:"text-center",marginTop:"20px",fontSize:"12px"},r.a.createElement(le.a,{size:15,className:a.circularProgress}),"\u6b63\u5728\u52a0\u8f7d\u4e2d..."):r.a.createElement(ze.a,{className:"text-center",marginTop:"20px",onClick:function(){b&&o(Object(s.a)({},c,{fromMore:!0,page:c.page+1}))},fontSize:"12px"},b?"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a":"\u6ca1\u6709\u66f4\u591a\u4e86"))},Et=t(809),gt=t(781),ht=t(782),vt=t(147),yt=t.n(vt),xt=Object(x.a)(function(e){return{root:{marginTop:58},heading:{fontSize:14,flexBasis:"45%",flexShrink:0},infoItem:{padding:"5px 0"},lastExpan:{margin:"16px -16px!important"},lastDetail:{overflowX:"scroll",paddingLeft:0},tableCell:{paddingRight:10},tableHeader:{color:e.palette.primary.main}}}),Ot=function(e,a){return{label:e,value:a}},Nt=[Ot("\u725b\u53f7",3080),Ot("\u725b\u533a",11),Ot("\u79bb\u573a\u65e5\u671f",""),Ot("\u751f\u65e5","2013-06-07"),Ot("\u80ce\u6b21",5),Ot("\u80ce\u6b21\u7ec4",3),Ot("\u6bcd\u725b\u53f7",30),Ot("\u7236\u725b\u53f7",380)];function jt(e,a,t,n,r,l){return{eventname:e,date:a,days:t,count:n,freeze:r,mark:l}}var St=[jt("\u8f6c\u7fa41\u8f6c\u7fa41\u8f6c\u7fa41\u8f6c\u7fa41","2019-06-17",1e3,24,"DNJSKWKWN",""),jt("\u8f6c\u7fa42","2019-06-17",1e3,24,"DNJSKWKWN",""),jt("\u8f6c\u7fa43","2019-06-17",1e3,24,"DNJSKWKWN",""),jt("\u8f6c\u7fa44","2019-06-17",1e3,24,"DNJSKWKWN",""),jt("\u8f6c\u7fa45","2019-06-17",1e3,24,"DNJSKWKWN",""),jt("\u8f6c\u7fa46","2019-06-17",1e3,24,"DNJSKWKWN",""),jt("\u8f6c\u7fa47","2019-06-17",1e3,24,"DNJSKWKWN",""),jt("\u8f6c\u7fa48","2019-06-17",1e3,24,"DNJSKWKWN",""),jt("\u8f6c\u7fa49","2019-06-17",1e3,24,"DNJSKWKWN",""),jt("\u8f6c\u7fa410","2019-06-17",1e3,24,"DNJSKWKWN","")],wt=function(e){var a=xt(),t=r.a.useState([]),n=Object(A.a)(t,2),l=(n[0],n[1]),c=r.a.useState("panel1"),o=Object(A.a)(c,2),i=o[0],s=o[1],m=we.a.parse(e.location.search,!0).query,u=function(e){return function(a,t){s(!!t&&e)}};return r.a.useEffect(function(){var a,t=e.match.params.id,n=(a={id:t},G("cows",a,{useFarmCode:!0,useToken:!0,useId:!0})).pipe(Object(P.a)(function(e){return e.response})).subscribe(function(e){console.log("data",e),l(e)});return function(){return n.unsubscribe()}},[]),r.a.createElement(ze.a,{className:a.root},r.a.createElement(ea,{title:"\u725b\u5934\u8be6\u60c5-".concat(m.eartag)}),r.a.createElement(L.a,null,r.a.createElement(Et.a,{expanded:"panel1"===i,onChange:u("panel1")},r.a.createElement(gt.a,{expandIcon:r.a.createElement(yt.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(Ge.a,{className:a.heading},"\u725b\u53ea\u4fe1\u606f\u4e00")),r.a.createElement(ht.a,null,r.a.createElement(ze.a,{width:"100%"},Nt.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:e.label},r.a.createElement(F.a,{container:!0,className:a.infoItem},r.a.createElement(F.a,{item:!0,xs:!0,className:"text-left"},e.label),r.a.createElement(F.a,{item:!0,xs:!0,className:"text-right"},e.value)),t!==Nt.length-1&&r.a.createElement(na,null))})))),r.a.createElement(Et.a,{expanded:"panel2"===i,onChange:u("panel2")},r.a.createElement(gt.a,{expandIcon:r.a.createElement(yt.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(Ge.a,{className:a.heading},"\u725b\u53ea\u4fe1\u606f\u4e8c")),r.a.createElement(ht.a,null,r.a.createElement(ze.a,{width:"100%"},Nt.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:e.label},r.a.createElement(F.a,{container:!0,className:a.infoItem},r.a.createElement(F.a,{item:!0,xs:!0,className:"text-left"},e.label),r.a.createElement(F.a,{item:!0,xs:!0,className:"text-right"},e.value)),t!==Nt.length-1&&r.a.createElement(na,null))})))),r.a.createElement(Et.a,{expanded:"panel3"===i,onChange:u("panel3")},r.a.createElement(gt.a,{expandIcon:r.a.createElement(yt.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(Ge.a,{className:a.heading},"\u725b\u53ea\u4fe1\u606f\u4e09")),r.a.createElement(ht.a,null,r.a.createElement(ze.a,{width:"100%"},Nt.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:e.label},r.a.createElement(F.a,{container:!0,className:a.infoItem},r.a.createElement(F.a,{item:!0,xs:!0,className:"text-left"},e.label),r.a.createElement(F.a,{item:!0,xs:!0,className:"text-right"},e.value)),t!==Nt.length-1&&r.a.createElement(na,null))})))),r.a.createElement(Et.a,{expanded:"panel4"===i,onChange:u("panel4"),className:"panel4"===i?a.lastExpan:""},r.a.createElement(gt.a,{expandIcon:r.a.createElement(yt.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(Ge.a,{className:a.heading},"\u4e8b\u4ef6\u4fe1\u606f")),r.a.createElement(ht.a,{className:"panel4"===i?a.lastDetail:""},r.a.createElement(ca.a,null,r.a.createElement(oa.a,null,r.a.createElement(ia.a,null,r.a.createElement(sa.a,{className:Object(pa.a)(a.tableCell,a.tableHeader)},"\u4e8b\u4ef6"),r.a.createElement(sa.a,{className:Object(pa.a)(a.tableCell,a.tableHeader)},"\u65e5\u671f"),r.a.createElement(sa.a,{className:Object(pa.a)(a.tableCell,a.tableHeader)},"\u5929\u6570"),r.a.createElement(sa.a,{className:Object(pa.a)(a.tableCell,a.tableHeader)},"\u672c\u80ce\u53d1\u751f\u7684\u6b21\u6570"),r.a.createElement(sa.a,{className:Object(pa.a)(a.tableCell,a.tableHeader)},"\u51bb\u7cbe"),r.a.createElement(sa.a,{className:Object(pa.a)(a.tableCell,a.tableHeader)},"\u5907\u6ce8"))),r.a.createElement(ma.a,null,St.map(function(e){return r.a.createElement(ia.a,{key:e.eventname},r.a.createElement(sa.a,{className:a.tableCell},r.a.createElement("div",{style:{width:"80px"}},e.eventname)),r.a.createElement(sa.a,{className:a.tableCell},e.date),r.a.createElement(sa.a,{className:a.tableCell},e.days),r.a.createElement(sa.a,{className:a.tableCell},r.a.createElement("div",{style:{width:"50px"}},e.count)),r.a.createElement(sa.a,{className:a.tableCell},e.freeze),r.a.createElement(sa.a,{className:a.tableCell},r.a.createElement("div",{style:{width:"80px"}},e.mark)))})))))))},kt=Object(te.a)({root:{paddingTop:48}}),Ct=function(e){var a=kt();return r.a.createElement(ze.a,{className:a.root},r.a.createElement(ea,{title:"\u73b0\u573a\u62a5\u544a-\u660e\u7ec6"}),r.a.createElement(L.a,null,r.a.createElement("h5",null,"\u73b0\u573a\u62a5\u544a-\u660e\u7ec6, id:",e.match.params.id)))},Tt=t(804),It=Object(x.a)(function(e){return{contantContainer:{marginTop:50},circularProgressba:{width:50},circularProgress:{marginRight:10}}}),_t={user:"\u9009\u62e9\u8bc4\u4f30\u4eba",cow:"\u9009\u62e9\u725b\u53ea",cowshed:"\u9009\u62e9\u725b\u820d"},Dt={user:function(e){return G("users",e,{useFarmCode:!0,useToken:!0})},cow:function(e){return G("cowlites",e,{useFarmCode:!0,useToken:!0})},cowshed:function(e){return G("pens",e,{useFarmCode:!0,useToken:!0})}},At=Object(o.b)(function(e,a){return Object(s.a)({},e.reviewDetailStore)},{saveContent:at,saveReviewDetail:et})(function(e){var a=It(),t=Object(n.useState)(1),l=Object(A.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(e.value),m=Object(A.a)(i,2),u=m[0],p=m[1],d=r.a.useState(null),f=Object(A.a)(d,2),b=f[0],E=f[1],g=r.a.useState([]),h=Object(A.a)(g,2),v=h[0],y=h[1],x=r.a.useState(!1),O=Object(A.a)(x,2),N=O[0],j=O[1],S=Object(n.useState)(""),w=Object(A.a)(S,2),k=w[0],C=(w[1],e.match.params.type),T=_t[C];return Object(n.useEffect)(function(){j(!0);var e={page:c,page_size:5};k&&(e.search=k);var a=Dt[C](e).pipe(Object(P.a)(function(e){return e.response}),Object(P.a)(function(e){return[e.results,e.next]}),Object(P.a)(function(e){var a=Object(A.a)(e,2),t=a[0],n=a[1];return[t.map(function(e){return Object(s.a)({},e,{id:String(e.id)})}),n]}),Object(P.a)(function(e){var a=Object(A.a)(e,2),t=a[0],n=a[1],r={user:"username",cow:"eartag",cowshed:"pen_name"};return[t.map(function(e){return Object(s.a)({},e,{label:e[r[C]]})}),n]}),Object(H.a)(function(e){return Object(Tt.a)("err => ",e)})).subscribe(function(e){console.log("data",e),y(v.concat(e[0])),E(e[1]),j(!1)});return function(){return a.unsubscribe()}},[c,k]),r.a.createElement(ze.a,null,r.a.createElement(ea,{title:T}),r.a.createElement(L.a,{className:a.contantContainer},r.a.createElement(ue.a,{component:"fieldset"},r.a.createElement(pe.a,{"aria-label":"position",name:"position",value:u,onChange:function(e){p(e.target.value)}},v.map(function(e){return r.a.createElement(de.a,{key:e.id,value:e.id,control:r.a.createElement(fe.a,{color:"primary"}),label:e.label,labelPlacement:"end"})})))),N?r.a.createElement(ze.a,{display:"flex",justifyContent:"center",alignItems:"center",className:"text-center",marginTop:"20px",fontSize:"12px"},r.a.createElement(le.a,{size:15,className:a.circularProgress}),"\u6b63\u5728\u52a0\u8f7d\u4e2d..."):r.a.createElement(ze.a,{className:"text-center",marginTop:"20px",onClick:function(){b&&o(c+1)},fontSize:"12px"},b?"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a":"\u6ca1\u6709\u66f4\u591a\u4e86"),r.a.createElement(ze.a,{position:"fixed",left:15,right:15,bottom:15},r.a.createElement(re.a,{fullWidth:!0,size:"medium",variant:"contained",color:"primary","aria-label":"\u9009\u62e9\u4e00\u9879",onClick:function(){return function(){if(u){var a=v.find(function(e){return e.id===u}),t=Object(D.a)({},{user:"assesser",cow:"cow",cowshed:"cowshed"}[C],{label:a.label,value:u});e.saveReviewDetail(t),e.history.goBack()}}()}},r.a.createElement(W.a,null,"\u786e\u5b9a"))))}),Lt=t(805),Rt=t(783),zt=t(784),Wt=t(785),Ft=t(786),Mt=t(787),Pt=Object(te.a)({root:{paddingTop:60},label:{fontSize:12,color:"#111"},flexbox:{display:"flex",justifyContent:"center",alignItems:"center"},paper:{marginTop:20},infoContent:{fontSize:14,padding:"10px 10px 10px 0"},input:{padding:"10px 0"},formControl:{marginTop:"20px!important"}}),Bt=[{label:"\u4e2a\u6027\u4ecb\u7ecd",icon:r.a.createElement(Te.a,{color:"primary"}),key:"userDesc"},{label:"\u516c\u53f8\u540d\u79f0",icon:r.a.createElement(Rt.a,{color:"primary"}),key:"companyName"},{label:"\u516c\u53f8\u5730\u5740",icon:r.a.createElement(zt.a,{color:"primary"}),key:"companyAddress"},{label:"\u8054\u7cfb\u65b9\u5f0f",icon:r.a.createElement(Wt.a,{color:"primary"}),key:"mobileNumber"}],Ht=function(e){var a=Object(n.useState)(!1),t=Object(A.a)(a,2),l=t[0],c=t[1],o=Pt(),i=Object(n.useState)({userDesc:"\u6e05\u98ce\u96e8\u9732\u4e00\u76f8\u9022\u4fbf\u80dc\u5374\u4eba\u95f4\u65e0\u6570",companyName:"\u963f\u62c9\u9489\u79d1\u6280\u6709\u9650\u516c\u53f8",companyAddress:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u67d0\u67d0\u8def",mobileNumber:"18888888888"}),m=Object(A.a)(i,2),u=m[0],p=m[1];return r.a.createElement(L.a,{className:o.root},r.a.createElement(ea,{title:"\u4e2a\u4eba\u4fe1\u606f",endAdorment:r.a.createElement(ge.a,{onClick:function(){return c(!l)},className:"text-white"},l?r.a.createElement(Ft.a,null):r.a.createElement(Mt.a,null))}),r.a.createElement(ze.a,null,Bt.map(function(e){return l?r.a.createElement(ue.a,{fullWidth:!0,margin:"dense",key:e.key,className:o.formControl},r.a.createElement(Lt.a,{htmlFor:e.key},e.label),r.a.createElement(Ta.a,{id:"input-with-icon-adornment",startAdornment:r.a.createElement(z.a,{position:"start"},e.icon),multiline:!0,className:o.formControl,value:u[e.key],onChange:(a=e.key,function(e){p(Object(s.a)({},u,Object(D.a)({},a,e.target.value)))})})):r.a.createElement(be.a,{className:o.paper,key:e.key},r.a.createElement(F.a,{container:!0,spacing:1},r.a.createElement(F.a,{item:!0,xs:2,className:o.flexbox},r.a.createElement(ge.a,null,e.icon)),r.a.createElement(F.a,{item:!0,xs:!0},r.a.createElement(ze.a,{className:o.label},e.label),r.a.createElement(ze.a,{className:o.infoContent},u[e.key]))));var a})))},Jt=document.getElementById("root"),Vt=Object(y.f)(function(e){return Object(n.useEffect)(function(){Jt.scrollTo(0,0)},[e.location.pathname]),e.children});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(690);var Ut=t(340),Kt=t(788),qt=t(789),Gt=t(790),Xt=t(791),Yt=t(795),Zt=t(792),$t=t(793),Qt=t(794),en=t(806),an={success:Kt.a,warning:qt.a,error:Gt.a,info:Xt.a},tn=Object(x.a)(function(e){return{success:{backgroundColor:Zt.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:$t.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}});function nn(e){var a=tn(),t=e.className,n=e.message,l=e.onClose,c=e.variant,o=Object(Ut.a)(e,["className","message","onClose","variant"]),i=an[c];return r.a.createElement(Qt.a,Object.assign({className:Object(pa.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(pa.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(ge.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(Yt.a,{className:a.icon}))]},o))}var rn=Object(x.a)(function(e){return{margin:{margin:e.spacing(1)}}});var ln=Object(o.b)(function(e){return Object(s.a)({},e.messageStore)},function(e){return{close:function(){e({type:"CLOSE_MESSAGE",payload:{open:!1}})}}})(function(e){var a=rn();function t(a,t){"clickaway"!==t&&e.close()}return r.a.createElement("div",null,r.a.createElement(en.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:e.open,autoHideDuration:"error"===e.variant?null:3e3,onClose:t},r.a.createElement(nn,{onClose:t,className:a.margin,variant:e.variant,message:e.message})))}),cn=Object(h.a)({palette:{primary:{main:"#00c6a0",contrastText:"#fff"},secondary:{main:"#fff"}}});c.a.render(r.a.createElement(o.a,{store:E},r.a.createElement(g.a,{theme:cn},r.a.createElement(function(){return r.a.createElement(v.a,null,r.a.createElement(Vt,null,r.a.createElement(y.b,{path:"/login",component:oe}),r.a.createElement(y.b,{path:"/register",component:se}),r.a.createElement(y.b,{path:"/selectRanch",component:je}),r.a.createElement(y.b,{path:["/","/home","/index"],exact:!0,component:_(Ke)}),r.a.createElement(y.b,{path:"/manageList/:type",component:Ca}),r.a.createElement(y.b,{path:"/sceneReport",component:pt}),r.a.createElement(y.b,{path:"/SceneReportDetail/:id",component:Ct}),r.a.createElement(y.b,{path:"/tasks",component:_(la)}),r.a.createElement(y.b,{path:"/reports",component:_(va)}),r.a.createElement(y.b,{path:"/search",component:_(bt)}),r.a.createElement(y.b,{path:"/cowDetail/:id",component:_(wt)}),r.a.createElement(y.b,{path:"/reviewDetail/:ranchType/:reviewType",component:lt}),r.a.createElement(y.b,{path:"/viewCowshed/:ranchType",component:st}),r.a.createElement(y.b,{path:"/tasksDetail/:id",component:Ea}),r.a.createElement(y.b,{path:"/user",component:Ht}),r.a.createElement(y.b,{path:"/commonSelectList/:type",component:At})))},null),r.a.createElement(ln,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[354,1,2]]]);
//# sourceMappingURL=main.6873ce39.chunk.js.map