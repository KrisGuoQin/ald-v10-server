(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,a,t){e.exports=t.p+"static/media/default.ef8c193e.jpg"},322:function(e,a,t){e.exports=t.p+"static/media/default.ef8c193e.jpg"},355:function(e,a,t){e.exports=t(692)},364:function(e,a,t){},365:function(e,a,t){},373:function(e,a,t){},686:function(e,a,t){},687:function(e,a,t){},691:function(e,a,t){},692:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(22),c=t.n(l),o=t(39),i=t(115),s=t(18),m="SAVE_USER_INFO",u=JSON.parse(localStorage.getItem("userInfo")||"{}");console.log("userInfo",u);var p={isLogin:!1,token:"",farm_code:""};u.isLogin&&(p.isLogin=u.isLogin,p.token=u.token,p.farm_code=u.farm_code,console.log("initState",p));var d=t(53),f=function(){return{assesser:{label:"",value:""},assessDate:d.DateTime.local(),assessDate2:d.DateTime.local().plus({day:1}),type:"",sub_type:"",note:"",photo:[],cow:{label:"",value:""},cowshed:{label:"",value:""},lf:"",lb:"",rf:"",rb:"",cowType:"",results:"",add_event:!0}},b=Object(i.b)({messageStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{variant:"error",open:!1,message:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SHOW_MESSAGE":case"CLOSE_MESSAGE":return Object(s.a)({},e,a.payload);default:return e}},userInfoStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m:var t=JSON.parse(localStorage.getItem("userInfo")||"{}");return localStorage.setItem("userInfo",JSON.stringify(Object(s.a)({},t,a.payload.userInfo))),Object(s.a)({},e,a.payload.userInfo);default:return e}},reviewDetailStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f(),a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SAVE_REVIEW_DETAIL":return Object(s.a)({},e,a.payload);case"CLEAR_STATE":return f();default:return e}}}),E=Object(i.c)(b,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),g=t(797),h=t(336),v=(t(364),t(36)),y=t(88),x=(t(365),t(737)),N=t(739),O=t(740),j=t(741),S=t(742),w=t(743),k=t(744),C=["/","/home","/index"],T="".concat("http://139.196.28.170:8811","/zh-hans/api/v1/"),I=Object(x.a)({layout:{height:"100vh"},bottomNav:{position:"fixed",width:"100%",bottom:0,zIndex:10,boxShadow:"0 -1px 5px 0 rgba(58, 59, 59, 0.5)"}}),_=function(e){return function(a){var t=I(),n=a.location,l=a.history,c=C.includes(n.pathname)?C[1]:n.pathname;return r.a.createElement("div",{className:t.layout},r.a.createElement(e,a),r.a.createElement(N.a,{value:c,onChange:function(e,a){return l.push(a)},className:t.bottomNav,showLabels:!0},r.a.createElement(O.a,{label:"\u4e3b\u9875",value:C[1],icon:r.a.createElement(j.a,null)}),r.a.createElement(O.a,{label:"\u4efb\u52a1",value:"/tasks",icon:r.a.createElement(S.a,null)}),r.a.createElement(O.a,{label:"\u62a5\u8868",value:"/reports",icon:r.a.createElement(w.a,null)}),r.a.createElement(O.a,{label:"\u67e5\u725b",value:"/search",icon:r.a.createElement(k.a,null)})))}},D=t(56),A=t(9),L=t(748),z=t(799),W=t(752),R=t(753),F=t(754),P=t(755),M=t(756),B=t(337),H=t(811),J=t(747),U=t(745),K=t(746),V=function(e){E.dispatch({type:"SHOW_MESSAGE",payload:{variant:"error",message:e,open:!0}})},q=function(){E.dispatch({type:"SAVE_USER_INFO",payload:{userInfo:{isLogin:!1,token:"",farm_code:""}}}),window.location.href="".concat(window.location.origin,"/#/login")},X=function(e){if(console.log("handleError",e),e&&e.status)switch(e.status){case 400:V("\u53c2\u6570\u9519\u8bef");break;case 401:V("\u672a\u6388\u6743\uff0c\u8bf7\u767b\u5f55"),q();break;case 402:V("\u767b\u5f55\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"),q();break;case 403:V("\u62d2\u7edd\u8bbf\u95ee");break;case 404:V("\u8bf7\u6c42\u5730\u5740\u51fa\u9519");break;case 408:V("\u8bf7\u6c42\u8d85\u65f6");break;case 500:V("\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef");break;case 501:V("\u670d\u52a1\u672a\u5b9e\u73b0");break;case 502:V("\u7f51\u5173\u9519\u8bef");break;case 503:V("\u670d\u52a1\u4e0d\u53ef\u7528");break;case 504:V("\u7f51\u5173\u8d85\u65f6");break;case 505:V("HTTP\u7248\u672c\u4e0d\u53d7\u652f\u6301")}return Object(U.a)(e)},G=function(e,a,t){var n,r="".concat(T).concat(e,"/"),l={},c=JSON.parse(localStorage.getItem("userInfo")||"{}"),o=c.token,i=c.farm_code,s=E.getState();if(t&&t.useToken){if(!o||!s.userInfoStore.token)return q(),K.a;l.AUTHORIZATION="JWT ".concat(o)}if(t&&t.useFarmCode){if(!i)return q(),K.a;r="".concat(T).concat(i,"/").concat(e,"/")}if(t&&t.useId&&t.useFarmCode){var m=a.id;r="".concat(T).concat(i,"/").concat(e,"/").concat(m,"/"),delete a.id}return t&&t.overrideUrl&&(r=t.overrideUrl(T,e,{farmcode:i})),n="".concat(r,"?").concat(Object.entries(a).map(function(e){return e.join("=")}).join("&")),H.a.get(n,l).pipe(Object(J.a)(X))},Y=function(e,a,t){var n={},r="".concat(T).concat(e,"/"),l=JSON.parse(localStorage.getItem("userInfo")||"{}"),c=l.token,o=l.farm_code,i=E.getState();if(t&&t.useToken){if(!c||!i.userInfoStore.token)return q(),K.a;n.AUTHORIZATION="JWT ".concat(c)}if(t&&t.useFarmCode){if(!o)return q(),K.a;r="".concat(T).concat(o,"/").concat(e,"/")}return t&&t.overrideUrl&&(r=t.overrideUrl(T,e,{farmcode:o})),t&&t.useJSON&&(n["content-type"]="application/json"),t&&t.overrideHeaders&&(n=t.overrideHeaders(n)),H.a.post(r,a,n).pipe(Object(J.a)(X))},Z=function(e){return Y("imagesupload",e,{useFarmCode:!0,useToken:!0})},$=function(e){return Y("assessteats",e,{useToken:!0,useFarmCode:!0,useJSON:!0})},Q=function(e){return Y("assesslocomotions",e,{useToken:!0,useFarmCode:!0,useJSON:!0})},ee=function(e){return Y("assessbcss",e,{useToken:!0,useFarmCode:!0,useJSON:!0})},ae=function(e){return Y("assessfaecess",e,{useToken:!0,useFarmCode:!0,useJSON:!0})},te=t(694),ne=Object(te.a)({loginTitle:{fontSize:"24px",marginTop:"15vh"},loginSubTitle:{fontSize:"16px",color:"#ccc"},formContainer:{width:"75%",margin:"0 auto"},codeBtn:{minWidth:"84px",marginBottom:2},textField:{marginTop:"40px"},register:{marginTop:"20px",fontSize:"12px"}}),re=Object(o.b)(function(e){return{isLogin:e.userInfoStore.isLogin}},function(e){return{saveUserInfo:function(a){return e({type:"SAVE_USER_INFO",payload:{userInfo:a}})}}})(function(e){var a=Object(n.useState)({mobileCode:"1234",userNameOrMobile:"test"}),t=Object(A.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)({mobileCode:!0,userNameOrMobile:!0}),i=Object(A.a)(o,2),m=i[0],u=i[1],p=ne(),d=function(e){return function(a){c(Object(s.a)({},l,Object(D.a)({},e,a.target.value)))}},f=function(){if(u({mobileCode:Boolean(l.mobileCode),userNameOrMobile:Boolean(l.userNameOrMobile)}),l.mobileCode&&l.userNameOrMobile)var a,t=(a={open_id:"af7ca86e-94e6-4216-9ae4-e0ca2800125c"},Y("jauth",a,{useToken:!1})).pipe(Object(B.a)(function(e){var a=e.response,t=void 0===a?{}:a;return Promise.resolve(t)})).subscribe(function(a){e.saveUserInfo(Object(s.a)({},a,{isLogin:!0})),t.unsubscribe(),e.history.push("/selectRanch")},function(e){console.log("error",e)})};return r.a.createElement(L.a,null,r.a.createElement("h1",{className:"".concat(p.loginTitle," text-center")},"\u767b\u5f55\u963f\u62c9\u9489\u7267\u573a"),r.a.createElement("h4",{className:"".concat(p.loginSubTitle,"  text-center")},"\u8bf7\u7528\u60a8\u7684\u624b\u673a\u53f7\u6216\u8005\u8d26\u53f7\u767b\u9646"),r.a.createElement("div",{className:p.formContainer},r.a.createElement(z.a,{required:!0,error:!m.userNameOrMobile,helperText:m.userNameOrMobile?"":"\u8bf7\u8f93\u5165\u624b\u673a\u53f7/\u8d26\u53f7",className:p.textField,onChange:d("userNameOrMobile"),value:l.userNameOrMobile,placeholder:"\u624b\u673a\u53f7/\u8d26\u53f7",fullWidth:!0}),r.a.createElement(z.a,{error:!m.mobileCode,helperText:m.mobileCode?"":"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",className:p.textField,onChange:d("mobileCode"),value:l.mobileCode,placeholder:"\u9a8c\u8bc1\u7801",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(W.a,{position:"end"},r.a.createElement(R.a,{variant:"contained",className:p.codeBtn,size:"small",color:"primary"},"\u83b7\u53d6\u9a8c\u8bc1\u7801"))}}),r.a.createElement(F.a,{className:p.textField,fullWidth:!0,size:"medium",variant:"contained",color:"primary","aria-label":"Full width outlined button group",onClick:function(){return f()}},r.a.createElement(R.a,null,"\u767b\u5f55"))),r.a.createElement(P.a,{container:!0,className:p.register},r.a.createElement(P.a,{item:!0,xs:2}),r.a.createElement(P.a,{item:!0,xs:6},r.a.createElement("span",null,"\u6211\u8fd8\u6ca1\u6709\u8d26\u53f7")),r.a.createElement(P.a,{item:!0,xs:4},r.a.createElement(M.a,{component:v.b,to:"/register"}," \u6211\u8981\u6ce8\u518c "))))}),le=t(192),ce=t.n(le),oe=Object(te.a)({loginTitle:{fontSize:"24px",marginTop:"15vh"},formContainer:{width:"75%",margin:"0 auto"},codeBtn:{minWidth:"84px"},textField:{marginTop:"40px"},register:{marginTop:"20px",fontSize:"12px"},registerSuccess:{width:"80%",margin:"15vh auto 0",color:"#999",textAlign:"center",fontSize:"14px"}}),ie=Object(o.b)(null,function(e){return{changeLoginStatus:function(a){return e({type:"CHANGE_LOGIN_STATUS",payload:{loginStatus:a}})}}})(function(e){var a=Object(n.useState)(""),t=Object(A.a)(a,2),l=(t[0],t[1]),c=Object(n.useState)(""),o=Object(A.a)(c,2),i=(o[0],o[1]),s=Object(n.useState)(!1),m=Object(A.a)(s,2),u=m[0],p=m[1],d=oe(),f=function(e){l(e.target.value)};return r.a.createElement(L.a,null,r.a.createElement("h1",{className:"".concat(d.loginTitle," text-center")},"\u963f\u62c9\u9489\u7267\u4e1a\u901a\u7528\u5e73\u53f0"),u?r.a.createElement("div",{className:d.registerSuccess},r.a.createElement("h3",null,"\u6b22\u8fce\u4f7f\u7528\uff0c\u6709\u4efb\u4f55\u95ee\u9898\u8bf7\u81f4\u7535\uff1a"),r.a.createElement("h3",null,"18621812625"),r.a.createElement(F.a,{className:d.textField,fullWidth:!0,size:"medium",variant:"contained",color:"primary","aria-label":"Full width outlined button group"},r.a.createElement(R.a,{onClick:function(){e.history.push("/")}},"\u7ee7\u7eed"))):r.a.createElement("div",{className:d.formContainer},r.a.createElement(z.a,{className:d.textField,onChange:function(e){return f(e)},placeholder:"\u5f55\u5165\u60a8\u7684\u624b\u673a\u53f7",fullWidth:!0,InputProps:{startAdornment:r.a.createElement(W.a,{position:"start"},r.a.createElement(ce.a,null))}}),r.a.createElement(z.a,{className:d.textField,onChange:function(e){return function(e){i(e.target.value)}(e)},placeholder:"\u9a8c\u8bc1\u7801",fullWidth:!0,InputProps:{startAdornment:r.a.createElement(W.a,{position:"start"},r.a.createElement(ce.a,null)),endAdornment:r.a.createElement(W.a,{position:"end"},r.a.createElement(R.a,{variant:"contained",className:d.codeBtn,size:"small",color:"primary"},"\u83b7\u53d6\u9a8c\u8bc1\u7801"))}}),r.a.createElement(z.a,{className:d.textField,onChange:function(e){return f(e)},placeholder:"\u5f55\u5165\u60a8\u7684\u7267\u573a/\u4f01\u4e1a",fullWidth:!0,InputProps:{startAdornment:r.a.createElement(W.a,{position:"start"},r.a.createElement(ce.a,null))}}),r.a.createElement(F.a,{className:d.textField,fullWidth:!0,size:"medium",variant:"contained",color:"primary","aria-label":"Full width outlined button group"},r.a.createElement(R.a,{onClick:function(){return e.changeLoginStatus(!0),void p(!0)}},"\u6ce8\u518c")),r.a.createElement(P.a,{container:!0,className:d.register},r.a.createElement(P.a,{item:!0,xs:1}),r.a.createElement(P.a,{item:!0,xs:7},r.a.createElement("span",null,"\u5df2\u7ecf\u6709\u8d26\u6237")),r.a.createElement(P.a,{item:!0,xs:4,className:"text-center"},r.a.createElement(M.a,{component:v.b,to:"/login"},"\u767b\u5f55")))))}),se=t(757),me=t(750),ue=t(809),pe=t(758),de=t(802),fe=t(233),be=t(696),Ee=t(342),ge=t(329),he=t.n(ge),ve=Object(te.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",backgroundColor:"#fff"},input:{marginLeft:8,flex:1},iconButton:{padding:5}}),ye=function(e){var a=ve(),t=Object(n.useState)(""),l=Object(A.a)(t,2),c=l[0],o=l[1];return r.a.createElement(fe.a,{className:a.root},r.a.createElement(be.a,{className:a.input,placeholder:e.placeholder,inputProps:{"aria-label":"\u641c\u7d22\u963f\u62c9\u9489\u7267\u573a"},value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement(Ee.a,{className:a.iconButton,"aria-label":"Search",onClick:function(){e.searchMethod&&e.searchMethod(c)}},r.a.createElement(he.a,{color:c?"primary":"disabled"})))},xe=(t(373),Object(te.a)({container:{width:"70%",margin:"15vh auto 0"},title:{fontSize:"20px"},textField:{marginTop:"40px"},ranchList:{paddingLeft:10,marginTop:10}})),Ne=Object(o.b)(null,function(e){return{saveUserInfo:function(a){return e({type:"SAVE_USER_INFO",payload:{userInfo:a}})}}})(function(e){var a=xe(),t=r.a.useState(!1),l=Object(A.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(!0),s=Object(A.a)(i,2),m=s[0],u=s[1],p=Object(n.useState)(""),d=Object(A.a)(p,2),f=d[0],b=d[1],E=Object(n.useState)(""),g=Object(A.a)(E,2),h=g[0],v=g[1],y=Object(n.useState)([]),x=Object(A.a)(y,2),N=x[0],O=x[1];Object(n.useEffect)(function(){var e={page:1,page_size:1e3};h&&(e.search=h);var a,t=(a=e,G("farms",a,{useToken:!0})).pipe(Object(B.a)(function(e){var a=e.response,t=void 0===a?{}:a;return Promise.resolve(t.results||[])})).subscribe(function(e){console.log("data",e),O(e),b(e[0]&&e[0].farm_code||"")},function(e){console.log("error",e)});return function(){t.unsubscribe()}},[h]);var j=Object(n.useState)(""),S=Object(A.a)(j,2),w=S[0],k=S[1];return r.a.createElement("div",{className:"select-ranch-wrapper"},r.a.createElement("div",{className:"select-ranch-container"},r.a.createElement(P.a,{container:!0,alignItems:"center",justify:"space-between"},r.a.createElement(P.a,{item:!0,xs:8},r.a.createElement("h1",{className:a.title},"\u767b\u9646\u963f\u62c9\u9489\u7267\u573a")),r.a.createElement(P.a,{item:!0,xs:4,className:"text-right"},r.a.createElement(se.a,{checked:m,color:"primary",onChange:function(e){u(e.target.checked)}}))),m?[r.a.createElement(ye,{searchMethod:v,key:"0"}),r.a.createElement(me.a,{component:"fieldset",className:a.ranchList,key:"1"},r.a.createElement(ue.a,{"aria-label":"position",name:"position",value:f,onChange:function(e){b(e.target.value)}},N.map(function(e){return r.a.createElement(pe.a,{key:e.farm_code,value:e.farm_code,control:r.a.createElement(de.a,{color:"primary"}),label:e.farm_name,labelPlacement:"end"})})))]:r.a.createElement(z.a,{error:c,className:a.textField,placeholder:"\u5f55\u5165\u60a8\u7684\u7267\u573a\u540d\u79f0,\u5982XXX\u7267\u573a",fullWidth:!0,value:w,onChange:function(e){k(e.target.value)},helperText:c?"\u8bf7\u5f55\u5165\u60a8\u7684\u7267\u573a\u540d\u79f0":""}),r.a.createElement(F.a,{className:a.textField,fullWidth:!0,size:"medium",onClick:function(){var a="0";if(m)a="1",e.saveUserInfo({farm_code:f});else if(o(!w),!w)return;e.history.push("/home?isALD=".concat(a)),sessionStorage.setItem("isALD",a)},variant:"contained",color:"primary","aria-label":"Full width outlined button group"},r.a.createElement(R.a,null,"\u786e\u5b9a"))))}),Oe=t(330),je=t.n(Oe),Se=t(339),we=t(808),ke=t(759),Ce=t(760),Te=t(761),Ie=Object(te.a)(function(e){return{aldFarm:{height:"20vh",backgroundColor:e.palette.primary.main,color:"#fff",paddingTop:20,width:"100%",top:0,"& h4":{marginTop:0,marginBottom:0},position:"fixed"},textWhite:{color:"white"},menuItem:{width:80}}}),_e=function(e){var a=Ie(),t=r.a.useState(null),n=Object(A.a)(t,2),l=n[0],c=n[1],o=Boolean(l),i=[{label:"\u6211\u7684",component:r.a.createElement(ke.a,{color:"primary"}),cb:function(){e.history.push("/user")}},{label:"\u9000\u51fa",component:r.a.createElement(Ce.a,{color:"primary"}),cb:function(){e.userLogin({userInfo:{isLogin:!1,token:"",farm_code:""}}),e.history.push("/login")}}];function s(){c(null)}return r.a.createElement(L.a,{className:a.aldFarm},r.a.createElement(P.a,{container:!0},r.a.createElement(P.a,{item:!0,xs:8},r.a.createElement("h4",null,"ALDFarm"),r.a.createElement("h4",null,"\u8fde\u63a5\u7267\u573a\u4e00\u5207\u4fe1\u606f")),r.a.createElement(P.a,{item:!0,xs:4,className:"text-right"},r.a.createElement(Ee.a,{"aria-label":"user",className:a.textWhite,onClick:function(e){c(e.currentTarget)}},r.a.createElement(Te.a,null))),r.a.createElement(Se.a,{id:"long-menu",anchorEl:l,keepMounted:!0,open:o,onClose:s,PaperProps:{style:{maxHeight:216}}},i.map(function(e){return r.a.createElement(we.a,{key:e.label,onClick:function(){return a=e.cb,s(),void a();var a}},e.component," ",e.label)}))))},De=Object(te.a)({homeContainer:{height:"100vh",overflowY:"auto",background:"#fff"},homeContent:{marginTop:85,paddingTop:30,paddingBottom:20,zIndex:5,position:"relative",background:"#fff",textAlign:"center",borderTopLeftRadius:"45px 45px",borderTopRightRadius:"45px 45px"},homeContentIcon:{},searchContainer:{width:"85%",margin:"0 auto"}}),Ae=function(e){var a=De();return r.a.createElement(L.a,{className:a.homeContent},r.a.createElement("div",{className:a.searchContainer,onClick:function(){return e.history.push("/search")}},r.a.createElement(ye,{placeholder:"\u641c\u7d22\u725b\u53ea"})),r.a.createElement(P.a,{justify:"center",container:!0},"1"===e.isALD?r.a.createElement(P.a,{item:!0,xs:6},r.a.createElement(M.a,{component:v.b,to:"/manageList/ald"},r.a.createElement("div",{className:"home-entrance-wrapper"},r.a.createElement(S.a,{className:"fs-36-it"}),r.a.createElement("div",null,"\u963f\u62c9\u9489\u8bc4\u4f30")))):r.a.createElement(P.a,{item:!0,xs:6},r.a.createElement(M.a,{component:v.b,to:"/manageList/society"},r.a.createElement("div",{className:"home-entrance-wrapper"},r.a.createElement(S.a,{className:"fs-36-it"}),r.a.createElement("div",null,"\u793e\u4f1a\u7267\u573a\u8bc4\u4f30")))),r.a.createElement(P.a,{item:!0,xs:6},r.a.createElement(M.a,{component:v.b,to:"/tasks"},r.a.createElement("div",{className:"home-entrance-wrapper"},r.a.createElement(S.a,{className:"fs-36-it"}),r.a.createElement("div",null,"\u4efb\u52a1\u6e05\u5355")))),r.a.createElement(P.a,{item:!0,xs:6},r.a.createElement(M.a,{component:v.b,to:"/sceneReport"},r.a.createElement("div",{className:"home-entrance-wrapper"},r.a.createElement(S.a,{className:"fs-36-it"}),r.a.createElement("div",null,"\u73b0\u573a\u62a5\u544a")))),r.a.createElement(P.a,{item:!0,xs:6},r.a.createElement(M.a,{component:v.b,to:"/sceneReport"},r.a.createElement("div",{className:"home-entrance-wrapper"},r.a.createElement(S.a,{className:"fs-36-it"}),r.a.createElement("div",null,"\u73b0\u573a\u62a5\u544a"))))))},Le=t(798),ze=t(123),We=t.n(ze),Re=t(762),Fe=function(e){return r.a.createElement(Le.a,{border:1,borderRadius:"borderRadius",borderColor:"#ccc",flex:"0 0 85%",margin:"0 10px"},e.children)},Pe=Object(te.a)({chartTitle:{fontSize:"1rem",color:"#111",paddingLeft:"15px"},chartContainer:{color:"#999",padding:"0 0 90px"}}),Me={title:{text:"7\u5929\u4ea7\u91cf\u53d8\u5316",textStyle:{fontSize:14},top:5},trigger:"axis",axisPointer:{type:"shadow"},legend:{data:[{name:"\u90ae\u4ef6\u8425\u9500",icon:"circle"},{name:"\u8054\u76df\u5e7f\u544a",icon:"circle"},{name:"\u89c6\u9891\u5e7f\u544a",icon:"circle"}],top:"10%"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"]}],yAxis:[{type:"value"}],series:[{name:"\u90ae\u4ef6\u8425\u9500",type:"bar",stack:"\u5e7f\u544a",data:[120,132,101,134,90,230,210]},{name:"\u8054\u76df\u5e7f\u544a",type:"bar",stack:"\u5e7f\u544a",data:[220,182,191,234,290,330,310]},{name:"\u89c6\u9891\u5e7f\u544a",type:"bar",stack:"\u5e7f\u544a",data:[150,232,201,154,190,330,410]}]},Be=function(){var e=Pe();return r.a.createElement(Le.a,{className:e.chartContainer,borderTop:1,borderColor:"#ccc"},r.a.createElement(P.a,{container:!0,alignItems:"center",className:e.chartTitle},r.a.createElement(P.a,{item:!0,xs:!0},"\u9884\u8b66\u62a5\u8868"),r.a.createElement(P.a,{item:!0,xs:2,className:"text-right"},r.a.createElement(M.a,{component:v.b,to:"/reports"},r.a.createElement(Ee.a,null,r.a.createElement(Re.a,null))))),r.a.createElement(Le.a,{display:"flex",flexWrap:"nowrap",overflow:"scroll"},r.a.createElement(Fe,null,r.a.createElement(We.a,{option:Me,style:{height:"40vh"}})),r.a.createElement(Fe,null,r.a.createElement(We.a,{option:Me,style:{height:"40vh"}}))))},He=(t(686),function(e){return{type:"SHOW_MESSAGE",payload:e}}),Je=Object(te.a)({homeContainer:{background:"#fff"}}),Ue=Object(o.b)(function(e){return{isLogin:e.userInfoStore.isLogin}},{userLogin:function(e){return{type:m,payload:Object(s.a)({},e)}}})(function(e){var a=Je(),t=je.a.parse(e.location.search,!0).query,n=String(t.isALD||sessionStorage.getItem("isALD")||"0");return r.a.createElement("div",{className:a.homeContainer},e.isLogin?null:r.a.createElement(y.a,{to:"/login"}),r.a.createElement(_e,e),r.a.createElement(Ae,Object.assign({isALD:n},e)),r.a.createElement(Be,null))}),Ke=t(124),Ve=(t(321),t(193)),qe=t(764),Xe=t(766),Ge=t(179),Ye=t(231),Ze=t.n(Ye),$e=t(763),Qe=Object(te.a)(function(e){return{root:{backgroundColor:e.palette.primary.main,height:48,fontSize:"1rem",textAlign:"center",color:e.palette.primary.contrastText,position:"fixed",fontWeight:"bolder",top:0,left:0,right:0,zIndex:10},icon:{color:"#fff"},input:{marginLeft:8,flex:1,color:"#fff"},iconButton:{padding:10,color:"#fff"},inputBox:{color:"#fff"}}}),ea=Object(y.f)(function(e){var a=Qe(),t=r.a.useState(!1),n=Object(A.a)(t,2),l=(n[0],n[1]),c=r.a.useState(""),o=Object(A.a)(c,2),i=o[0],s=o[1];return r.a.createElement(fe.a,{className:a.root,square:!0},r.a.createElement(P.a,{container:!0,alignItems:"center"},r.a.createElement(P.a,{item:!0,xs:2},r.a.createElement(Ee.a,{onClick:function(){return e.beforeRouteLeave&&e.beforeRouteLeave(),void e.history.goBack()}},r.a.createElement($e.a,{className:a.icon}))),e.useSearch?r.a.createElement(P.a,{item:!0,xs:"auto",className:a.inputBox},r.a.createElement(be.a,{autoFocus:!0,value:i,onChange:function(e){return s(e.target.value)},className:a.input,placeholder:e.searchPlaceholder,inputProps:{"aria-label":e.searchPlaceholder}}),r.a.createElement(Ee.a,{className:a.iconButton,"aria-label":"search",onClick:function(){return l(!1),void(e.getSearchValue&&e.getSearchValue(i))}},e.searchLoading?r.a.createElement(qe.a,{size:20,color:"secondary"}):r.a.createElement(k.a,{className:a.icon}))):[r.a.createElement(P.a,{item:!0,xs:!0,key:"0"},e.title),r.a.createElement(P.a,{item:!0,xs:2,key:"1"},e.endAdorment)]))}),aa=t(765),ta=t(185),na=function(e){var a=Object(ta.a)();return r.a.createElement(aa.a,{style:{backgroundColor:a.palette.primary.main}})},ra=Object(x.a)(function(e){return{selectContainer:{position:"fixed",top:48,left:0,right:0,zIndex:10,background:e.palette.primary.main,color:e.palette.primary.contrastText},contantContainer:{marginTop:110,paddingBottom:70},img:{display:"block",maxWidth:"100%",maxHeight:"100%"},detailBtn:{padding:0},paper:{padding:"5px 0",marginTop:10},circularProgressba:{width:50},circularProgress:{marginRight:10}}}),la=function(e){var a=ra(),n=r.a.useState([]),l=Object(A.a)(n,2),c=l[0],o=l[1],i=r.a.useState(1),m=Object(A.a)(i,2),u=m[0],p=m[1],d=r.a.useState(null),f=Object(A.a)(d,2),b=f[0],E=f[1],g=r.a.useState(!1),h=Object(A.a)(g,2),v=h[0],y=h[1],x=r.a.useState(null),N=Object(A.a)(x,2),O=N[0],j=N[1],S=r.a.useState(null),w=Object(A.a)(S,2),k=w[0],C=w[1],T=r.a.useState(null),I=Object(A.a)(T,2),_=I[0],z=I[1],W=r.a.useState(null),R=Object(A.a)(W,2),F=R[0],M=R[1],B=r.a.useState({BJ:0,FZ:0,SY:0,RW:0}),H=Object(A.a)(B,2),J=H[0],U=H[1],K=[{key:"BJ",anchorEl:O,setAnchorEl:j,options:["\u4fdd\u5065","\u4fdd\u5065\u4e00","\u4fdd\u5065\u4e8c","\u4fdd\u5065\u4e09"]},{key:"FZ",anchorEl:k,setAnchorEl:C,options:["\u7e41\u6b96","\u7e41\u6b96\u4e00","\u7e41\u6b96\u4e8c","\u7e41\u6b96\u4e09"]},{key:"SY",anchorEl:_,setAnchorEl:z,options:["\u9972\u517b","\u9972\u517b\u4e00","\u9972\u517b\u4e8c","\u9972\u517b\u4e09"]},{key:"RW",anchorEl:F,setAnchorEl:M,options:["\u4efb\u52a1","\u4efb\u52a1\u4e00","\u4efb\u52a1\u4e8c","\u4efb\u52a1\u4e09"]}],V={BJ:j,FZ:C,SY:z,RW:M},q=function(e){V[e](null)};return r.a.useEffect(function(){y(!0);var e,a=(e={page:u,page_size:10},G("todotaskruns",e,{useFarmCode:!0,useToken:!0})).pipe(Object(Ge.a)(function(e){return e.response}),Object(Ge.a)(function(e){return[e.results,e.next]}),Object(Ge.a)(function(e){var a=Object(A.a)(e,2),t=a[0],n=a[1];return[t.map(function(e){return Object(s.a)({},e,{toNowDate:Ze()(e.run_date).diff(Ze()(),"day")})}),n]})).subscribe(function(e){console.log("data",e),o(c.concat(e[0])),E(e[1]),y(!1)});return function(){return a.unsubscribe()}},[u]),r.a.createElement(Le.a,null,r.a.createElement(ea,{title:"\u4efb\u52a1\u6e05\u5355"}),r.a.createElement(Le.a,{className:a.selectContainer},r.a.createElement(P.a,{container:!0},K.map(function(e,a){return r.a.createElement(P.a,{item:!0,xs:3,key:"".concat(e.key,"-").concat(a),container:!0,justify:"center"},r.a.createElement(Ee.a,{color:"inherit","aria-label":"More","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(a){return e.setAnchorEl(a.currentTarget)}},r.a.createElement(Le.a,{fontSize:"12px"},e.options[J[e.key]]),r.a.createElement(Xe.a,null)),r.a.createElement(Se.a,{id:"long-menu",anchorEl:e.anchorEl,keepMounted:!0,open:Boolean(e.anchorEl),onClose:function(){return q(e.key)},PaperProps:{style:{maxHeight:216}}},e.options.map(function(a,t){return r.a.createElement(we.a,{key:a,selected:t===J[e.key],onClick:function(a){return function(e,a,t){U(Object(s.a)({},J,Object(D.a)({},a,t))),q(a)}(0,e.key,t)}},a)})))}))),r.a.createElement(L.a,{className:a.contantContainer},c.map(function(n,l){return r.a.createElement(fe.a,{className:a.paper,key:"tasks-item-".concat(l)},r.a.createElement(Le.a,{position:"relative"},r.a.createElement(P.a,{container:!0},r.a.createElement(P.a,{item:!0,xs:2,container:!0,justify:"center",alignItems:"center"},r.a.createElement(Le.a,{paddingX:"5px"},r.a.createElement("img",{className:a.img,alt:"complex",src:n.photo?n.photo:t(322)}))),r.a.createElement(P.a,{item:!0,xs:10,container:!0},r.a.createElement(P.a,{item:!0,xs:"auto",container:!0,direction:"column"},r.a.createElement(P.a,{item:!0,xs:!0},r.a.createElement(Ve.a,{gutterBottom:!0,variant:"subtitle1"},n.todotask_name),r.a.createElement(Ve.a,{variant:"subtitle2",gutterBottom:!0},r.a.createElement(Le.a,{fontSize:"12px"},n.content),r.a.createElement(Le.a,{fontSize:"12px"},"100/84 \u5b8c\u5de5\u671f\u9650 ",n.toNowDate>0?n.toNowDate:0,"\u5929"),r.a.createElement(Le.a,{fontSize:"12px"},"\u4efb\u52a1\u65e5\u671f ",n.run_date.split(" ")[0]," ",n.toNowDate>0?"\u8ddd\u4eca":"\u5df2\u8d85",Math.abs(n.toNowDate),"\u5929"))),r.a.createElement(P.a,{item:!0},r.a.createElement(na,null),r.a.createElement(Ve.a,{variant:"subtitle2",gutterBottom:!0},r.a.createElement(Ee.a,{className:a.detailBtn},r.a.createElement(Le.a,{fontSize:"12px"},"\u660e\u7ec6"),r.a.createElement(Xe.a,{color:"primary"}))))))),r.a.createElement(Le.a,{position:"absolute",right:"5px",top:"10%",onClick:function(){return e.history.push("/tasksDetail/".concat(n.id))}},r.a.createElement(Ke.a,{className:a.circularProgressba,value:75,text:"75%",styles:Object(Ke.b)({pathColor:"rgba(207, 0, 15, ".concat(.75,")"),textColor:"rgba(207, 0, 15, ".concat(.75,")")})}))))}),v?r.a.createElement(Le.a,{display:"flex",justifyContent:"center",alignItems:"center",className:"text-center",marginTop:"20px",fontSize:"12px"},r.a.createElement(qe.a,{size:15,className:a.circularProgress}),"\u6b63\u5728\u52a0\u8f7d\u4e2d..."):r.a.createElement(Le.a,{className:"text-center",marginTop:"20px",onClick:function(){b&&p(u+1)},fontSize:"12px"},b?"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a":"\u6ca1\u6709\u66f4\u591a\u4e86")))},ca=t(767),oa=t(768),ia=t(769),sa=t(770),ma=t(771),ua=t(804),pa=t(3),da=Object(x.a)(function(e){return{circularProgressba:{width:50},root:{height:"23vh",padding:10,paddingTop:50},tablecell:{padding:"10px 5px"},table:{background:"#fff"},tableHeader:{color:e.palette.primary.main}}});function fa(e,a,t,n){return{cowNumber:e,cowshed:a,date:t,statusLabel:n}}var ba=[fa("1001","2\u53f7\u68da","2019-03-10","\u662f"),fa("1002","2\u53f7\u68da","2019-03-10","\u5426"),fa("1003","2\u53f7\u68da","2019-03-10","\u662f")],Ea=function(e){var a=da(),t=r.a.useState([]),n=Object(A.a)(t,2),l=(n[0],n[1]);return r.a.useEffect(function(){var a,t=e.match.params.id,n=(a={id:t},G("todotaskruns",a,{useFarmCode:!0,useToken:!0,useId:!0})).pipe(Object(Ge.a)(function(e){return e.response})).subscribe(function(e){console.log("data",e),l(e)});return function(){return n.unsubscribe()}},[]),r.a.createElement(Le.a,null,r.a.createElement(ea,{title:"\u5b8c\u5de5\u5355\u660e\u7ec6"}),r.a.createElement(P.a,{container:!0,className:a.root,alignItems:"center"},r.a.createElement(P.a,{item:!0,xs:!0},r.a.createElement(Le.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(Le.a,{fontSize:12},"\u4efb\u52a1 100\uff0c \u5b8c\u6210 75"),r.a.createElement(ua.a,{name:"half-rating",value:3.75,readOnly:!0}))),r.a.createElement(P.a,{item:!0,xs:"auto"},r.a.createElement(Ke.a,{className:a.circularProgressba,value:75,text:"75%",styles:Object(Ke.b)({pathColor:"rgba(207, 0, 15, ".concat(.75,")"),textColor:"rgba(207, 0, 15, ".concat(.75,")")})}))),r.a.createElement(aa.a,null),r.a.createElement(ca.a,{className:a.table},r.a.createElement(oa.a,null,r.a.createElement(ia.a,null,r.a.createElement(sa.a,{align:"center",className:Object(pa.a)(a.tablecell,a.tableHeader)},"\u725b\u53f7"),r.a.createElement(sa.a,{align:"center",className:Object(pa.a)(a.tablecell,a.tableHeader)},"\u725b\u820d"),r.a.createElement(sa.a,{align:"center",className:Object(pa.a)(a.tablecell,a.tableHeader)},"\u4efb\u52a1\u65e5\u671f"),r.a.createElement(sa.a,{align:"center",className:Object(pa.a)(a.tablecell,a.tableHeader)},"\u662f\u5426\u5b8c\u6210"))),r.a.createElement(ma.a,null,ba.map(function(t){return r.a.createElement(ia.a,{hover:!0,key:t.cowNumber},r.a.createElement(sa.a,{align:"center",className:a.tablecell,onClick:function(){return e.history.push("/cowDetail/1")}},t.cowNumber),r.a.createElement(sa.a,{align:"center",className:a.tablecell},t.cowshed),r.a.createElement(sa.a,{align:"center",className:a.tablecell},t.date),r.a.createElement(sa.a,{align:"center",className:a.tablecell},t.statusLabel))}))))},ga={title:{text:"7\u5929\u4ea7\u91cf\u53d8\u5316",textStyle:{fontSize:14},top:5},trigger:"axis",axisPointer:{type:"shadow"},legend:{data:[{name:"\u90ae\u4ef6\u8425\u9500",icon:"circle"},{name:"\u8054\u76df\u5e7f\u544a",icon:"circle"},{name:"\u89c6\u9891\u5e7f\u544a",icon:"circle"}],top:"10%"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"]}],yAxis:[{type:"value"}],series:[{name:"\u90ae\u4ef6\u8425\u9500",type:"bar",stack:"\u5e7f\u544a",data:[120,132,101,134,90,230,210]},{name:"\u8054\u76df\u5e7f\u544a",type:"bar",stack:"\u5e7f\u544a",data:[220,182,191,234,290,330,310]},{name:"\u89c6\u9891\u5e7f\u544a",type:"bar",stack:"\u5e7f\u544a",data:[150,232,201,154,190,330,410]}]},ha=(t(687),Object(te.a)({root:{marginTop:60}})),va=function(){var e=ha();return r.a.createElement(L.a,{className:e.root},r.a.createElement(ea,{title:"\u9884\u8b66\u62a5\u8868"}),r.a.createElement(fe.a,{className:"mt-15"},r.a.createElement(We.a,{option:ga,style:{height:"40vh"}})),r.a.createElement(fe.a,{className:"mt-15"},r.a.createElement(We.a,{option:ga,style:{height:"40vh"}})))},ya=t(800),xa=t(772),Na=t(773),Oa=t(774),ja=t(775),Sa=t(776),wa=Object(x.a)({root:{flexGrow:1,position:"fixed",top:48,width:"100vw"},reviewListContainer:{paddingTop:96},media:{height:120}}),ka={ald:"\u963f\u62c9\u9489\u7267\u573a",society:"\u793e\u4f1a\u7267\u573a"},Ca=function(e){var a=wa(),l=Object(n.useState)(0),c=Object(A.a)(l,2),o=c[0],i=c[1],s=[{title:"\u4e73\u5934\u8bc4\u5206",img:t(169),value:0},{title:"\u884c\u8d70\u8bc4\u5206",img:t(169),value:1},{title:"\u4f53\u51b5\u8bc4\u5206",img:t(169),value:2},{title:"\u7caa\u4fbf\u8bc4\u5206",img:t(169),value:3}],m=e.match.params.type;return r.a.createElement("div",null,r.a.createElement(ea,{title:"".concat(ka[m],"-\u73b0\u573a\u7ba1\u7406\u6e05\u5355")}),r.a.createElement(fe.a,{className:a.root,square:!0},r.a.createElement(ya.a,{value:o,onChange:function(a,t){i(t),t&&e.history.push("/viewCowshed/".concat(m))},indicatorColor:"primary",textColor:"primary",centered:!0,variant:"fullWidth"},r.a.createElement(xa.a,{label:"\u73b0\u573a\u8bc4\u5206"}),r.a.createElement(xa.a,{label:"\u725b\u820d\u5de1\u68da"}))),r.a.createElement(P.a,{container:!0,justify:"space-around",className:a.reviewListContainer},s.map(function(t){return r.a.createElement(P.a,{item:!0,xs:5,key:t.title,className:"mt-15-it"},r.a.createElement(Na.a,{onClick:function(){return e.history.push("/reviewDetail/".concat(m,"/").concat(t.value))}},r.a.createElement(Oa.a,null,r.a.createElement(ja.a,{className:a.media,image:t.img,title:"Contemplative Reptile"})),r.a.createElement(Sa.a,null,r.a.createElement(R.a,{size:"small",color:"primary"},t.title))))})))},Ta=t(749),Ia=t(801),_a=t(780),Da=t(781),Aa=t(125),La=t(189),za=t(332),Wa=t.n(za),Ra=t(777),Fa=t(778),Pa=t(338);function Ma(){return r.a.createElement("span",{style:{color:"red"}},"*")}for(var Ba=Object(te.a)({flexbox:{display:"flex",alignItems:"center",justifyContent:"center"},img:{display:"block",width:"100%",height:"90px"},deleteIcon:{color:"red"}}),Ha=function(e){var a=Ba(),t=Object(Pa.a)({accept:"image/*",onDrop:function(a){var t=e.photo.concat(a.map(function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}));e.saveReviewDetail({photo:t})}}),n=t.getRootProps,l=t.getInputProps;return r.a.createElement(P.a,{container:!0},r.a.createElement(P.a,{item:!0,xs:!0},r.a.createElement(P.a,{container:!0,alignItems:"center"},e.textAreaRequired?r.a.createElement(P.a,{item:!0,xs:1},r.a.createElement(Ma,null)):null,r.a.createElement(P.a,{item:!0,xs:!0},r.a.createElement(z.a,{id:"outlined-textarea",label:e.labelText,multiline:!0,margin:"normal",variant:"outlined",fullWidth:!0,value:e.note,onChange:function(a){return e.saveReviewDetail({note:a.target.value})}})))),r.a.createElement(P.a,{item:!0,xs:2,className:a.flexbox},r.a.createElement(Le.a,n({className:"dropzone"}),r.a.createElement("input",l()),r.a.createElement(Ee.a,null,r.a.createElement(Ma,null),r.a.createElement(Ra.a,{color:"primary"})))),r.a.createElement(P.a,{container:!0,spacing:1,alignItems:"center"},e.photo.map(function(t,n){return r.a.createElement(P.a,{item:!0,xs:4,key:"img-file-".concat(n)},r.a.createElement(Le.a,{position:"relative"},r.a.createElement("img",{className:a.img,src:t.preview,alt:"img-file-".concat(n)}),r.a.createElement(Le.a,{position:"absolute",top:"-20px",right:"-20px"},r.a.createElement(Ee.a,{className:a.deleteIcon,onClick:function(){return function(a){var t=Wa()(a,1,e.photo);e.photo.forEach(function(e){return URL.revokeObjectURL(e.preview)}),e.saveReviewDetail({photo:t})}(n)}},r.a.createElement(Fa.a,null)))))})))},Ja=Object(te.a)({root:{marginTop:60,height:"100vh",overflowY:"auto"},InputAdornment:{"& p":{width:65}},inputAdornment:{"& p":{width:45}},flexbox:{display:"flex",alignItems:"center",justifyContent:"center"},btnMargin:{marginTop:0},btnContainer:{fontSize:12,lineHeight:1,color:"#111"}}),Ua=[{value:"0",label:"\u5e72\u5976\u725b"},{value:"1",label:"\u65b0\u4ea7\u725b"},{value:"2",label:"\u65e9\u671f\u725b"},{value:"3",label:"\u4e2d\u671f\u725b"},{value:"4",label:"\u540e\u671f\u725b"}],Ka=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"\u778e\u5976\u5934",value:"0"}],Va=[],qa=1;qa<=5;qa+=.25)Va.push({label:String(qa),value:String(qa)});var Xa=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"}],Ga={ald:"\u963f\u62c9\u9489\u7267\u573a",society:"\u793e\u4f1a\u7267\u573a"},Ya={0:"\u4e73\u5934\u8bc4\u5206",1:"\u884c\u8d70\u8bc4\u5206",2:"\u4f53\u51b5\u8bc4\u5206",3:"\u7caa\u4fbf\u8bc4\u5206"},Za=[{label:"\u5de6\u524d",key:"lf"},{label:"\u5de6\u540e",key:"lb"},{label:"\u53f3\u524d",key:"rf"},{label:"\u53f3\u540e",key:"rb"}],$a={0:function(e){e.assesser;var a=e.cow,t=e.lf,n=e.lb,r=e.rf,l=e.rb,c=e.photo;return!a.value||!c.length||!t||!n||!r||!l||!1},1:function(e){e.assesser;var a=e.photo,t=e.cow,n=e.cowType,r=e.results;return!t.value||!a.length||!n||!r||!1},2:function(e){e.assesser;var a=e.results,t=e.cowType,n=e.cow,r=e.photo;return!a||!t||!n.value||!r.length||!1},3:function(e){e.assesser;var a=e.cowshed,t=e.cowType,n=e.results;return!a.value||!t||!n||!1}},Qa={0:function(e){return{cow_id:e.cow.value,note:e.note,lf:e.lf,rf:e.rf,rb:e.rb,lb:e.lb,assess_time:e.assessDate,assesser:e.assesser.value,add_event:e.add_event}},1:function(e){return{cow_id:e.cow.value,note:e.note,cow_type:e.cowType,locomotion_score:e.results,assess_time:e.assessDate,assesser:e.assesser.value,add_event:e.add_event}},2:function(e){return{cow_id:e.cow.value,note:e.note,bcs:e.results,assess_time:e.assessDate,assesser:e.assesser.value,add_event:e.add_event,cow_type:e.cowType}},3:function(e){return{cow_type:e.cowType,fs:e.results,pen:e.cowshed.value,note:e.note,assess_time:e.assessDate,assesser:e.assesser.value,add_event:e.add_event}}},et=function(e){return{type:"SAVE_REVIEW_DETAIL",payload:e}},at=function(e){return{type:"SAVE_CONTENT",payload:e}},tt=function(e){return{type:"ADD_CONTENT",payload:e}},nt=function(e){return{type:"CLEAR_STATE",payload:e}},rt=t(779),lt=function(e){return r.a.createElement(F.a,{onClick:function(){return e.onClick&&e.onClick()},className:e.className,fullWidth:!0,size:"medium",variant:"contained",color:"primary","aria-label":"Full width outlined button group"},r.a.createElement(R.a,null,e.loading?[r.a.createElement(qe.a,{size:18,color:"secondary",style:{marginRight:"10px"},key:"0"}),"\u6b63\u5728\u64cd\u4f5c\u4e2d..."]:e.btnText))},ct=Object(o.b)(function(e){return Object(s.a)({},e.reviewDetailStore)},{saveReviewDetail:et,saveContent:at,addContent:tt,clearState:nt,showMessage:He})(function(e){var a=Ja(),t=r.a.useState(!1),n=Object(A.a)(t,2),l=n[0],c=n[1],o=e.match.params,i=o.ranchType,s=o.reviewType,m=3!==+s,u=2===+s,p="".concat(Ya[s],"-\u4e1a\u52a1\u5907\u6ce8"),d=u?Va:Xa,f=function(){e.clearState()};var b=function(){if(!l){var a={0:$,1:Q,2:ee,3:ae};if($a[s](e))return console.log("hasError","\u5b58\u5728\u5fc5\u586b\u9879\u4e3a\u586b\u5199"),void e.showMessage({variant:"warning",open:!0,message:"\u5b58\u5728\u672a\u586b\u5145\u7684\u5fc5\u586b\u9879!"});c(!0);var t=Qa[s](e),n=function(){var a=new FormData;return e.photo.forEach(function(e){return a.append("imgs",e)}),Z(a).pipe(Object(Ge.a)(function(e){return e.response.upload_imgs}))}().pipe(Object(rt.a)(function(e){return t.photo=e.toString(),(0,a[s])(JSON.stringify(t))})).subscribe(function(a){console.log("data",a),e.showMessage({variant:"success",open:!0,message:"\u64cd\u4f5c\u6210\u529f"}),f()},function(e){console.error("error",e),c(!1)},function(){c(!1),n.unsubscribe()})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ea,{title:"".concat(Ga[i],"-").concat(Ya[s]),beforeRouteLeave:f}),r.a.createElement(L.a,{className:a.root},r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(Ta.a,{value:e.assesser.label,placeholder:"\u70b9\u51fb\u9009\u62e9\u8bc4\u4f30\u4eba\u59d3\u540d",onFocus:function(){return e.history.push("/commonSelectList/user")},startAdornment:r.a.createElement(W.a,{className:a.InputAdornment,position:"start"},"\u8bc4\u4f30\u4eba:")})),r.a.createElement(me.a,{fullWidth:!0,margin:"normal"},r.a.createElement(Aa.b,{utils:La.a,locale:"zh-cn"},r.a.createElement(Aa.a,{id:"mui-pickers-date",label:"\u8bc4\u4f30\u65e5\u671f",format:"yyyy-MM-dd",value:e.assessDate,onChange:function(a){return e.saveReviewDetail({assessDate:a})},okLabel:"\u786e\u5b9a",cancelLabel:"\u53d6\u6d88"}))),r.a.createElement(Ha,{labelText:p,photo:e.photo,note:e.note,saveReviewDetail:e.saveReviewDetail,textAreaRequired:!1}),r.a.createElement(Le.a,null,r.a.createElement(Le.a,null,r.a.createElement(me.a,{margin:"dense",fullWidth:!0},r.a.createElement(Ta.a,{value:m?e.cow.label:e.cowshed.label,onFocus:function(){return e.history.push("/commonSelectList/".concat(m?"cow":"cowshed"))},placeholder:"\u8bf7\u9009\u62e9\u725b".concat(m?"":"\u820d","\u53f7"),startAdornment:r.a.createElement(W.a,{className:a.InputAdornment,position:"start"},r.a.createElement(Ma,null),"\u725b",m?"\u53f7":"\u820d",":"),endAdornment:3===+s?r.a.createElement(W.a,{position:"end"},"#"):null})),0!==+s?[r.a.createElement(me.a,{margin:"dense",fullWidth:!0,key:"0"},r.a.createElement(z.a,{select:!0,InputProps:{startAdornment:r.a.createElement(W.a,{className:a.InputAdornment,position:"start"},r.a.createElement("p",null,r.a.createElement(Ma,null),"\u7c7b\u578b:"))},onChange:function(a){return e.saveReviewDetail({cowType:a.target.value})},value:e.cowType},Ua.map(function(e){return r.a.createElement(we.a,{key:e.value,value:e.value},e.label)}))),r.a.createElement(me.a,{margin:"dense",fullWidth:!0,key:"1"},r.a.createElement(z.a,{select:!0,InputProps:{startAdornment:r.a.createElement(W.a,{className:a.InputAdornment,position:"start"},r.a.createElement("p",null,r.a.createElement(Ma,null),"\u7ed3\u679c:"))},onChange:function(a){return e.saveReviewDetail({results:a.target.value})},value:e.results},d.map(function(e){return r.a.createElement(we.a,{key:e.value,value:e.value},e.label)})))]:r.a.createElement(P.a,{container:!0,spacing:1},Za.map(function(t){return r.a.createElement(P.a,{item:!0,xs:6,key:t.key},r.a.createElement(me.a,{margin:"dense",fullWidth:!0},r.a.createElement(z.a,{select:!0,InputProps:{startAdornment:r.a.createElement(W.a,{className:a.inputAdornment,position:"start"},r.a.createElement("p",null,r.a.createElement(Ma,null),t.label+":"))},onChange:function(a){return e.saveReviewDetail(Object(D.a)({},t.key,a.target.value))},value:e[t.key]},Ka.map(function(e){return r.a.createElement(we.a,{key:e.value,value:e.value},e.label)}))))})))),r.a.createElement(Le.a,{className:a.btnContainer},r.a.createElement(pe.a,{className:a.btnContainer,control:r.a.createElement(Ia.a,{checked:e.add_event,onChange:function(a){return e.saveReviewDetail({add_event:a.target.checked})},icon:r.a.createElement(_a.a,{fontSize:"small"}),checkedIcon:r.a.createElement(Da.a,{fontSize:"small"}),value:"add_event",color:"primary"}),classes:{label:a.btnContainer},label:"\u662f\u5426\u751f\u6210\u963f\u62c9\u9489\u4e8b\u4ef6"}),r.a.createElement(lt,{btnText:"\u63d0\u4ea4",onClick:function(){return b()},loading:l,className:a.btnMargin}))))}),ot=Object(te.a)({root:{marginTop:60,height:"100vh",overflowY:"auto"},inputAdornment:{"& p":{width:75}},inputAdornment2:{"& p":{width:92}},flexbox:{display:"flex",alignItems:"center",justifyContent:"center"},btnMargin:{marginTop:0},btnContainer:{fontSize:12,lineHeight:1,color:"#111",marginTop:20}}),it={ald:"\u963f\u62c9\u9489\u7267\u573a",society:"\u793e\u4f1a\u7267\u573a"},st={saveContent:at,clearState:nt,addContent:tt,saveReviewDetail:et,showMessage:He},mt=Object(o.b)(function(e){return Object(s.a)({},e.reviewDetailStore)},st)(function(e){var a=e.match.params.ranchType,t=ot(),l=r.a.useState(!1),c=Object(A.a)(l,2),o=c[0],i=c[1],s=Object(n.useState)([]),m=Object(A.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)([]),f=Object(A.a)(d,2),b=f[0],E=f[1],g="".concat(it[a],"-\u725b\u820d\u5de1\u68da"),h=function(){e.clearState()};var v=function(){if(!o){if(!e.type||!e.sub_type||!e.note||!e.photo.length||!e.cowshed.value)return console.log("hasError","\u5b58\u5728\u5fc5\u586b\u9879\u4e3a\u586b\u5199"),void e.showMessage({variant:"warning",open:!0,message:"\u5b58\u5728\u672a\u586b\u5145\u7684\u5fc5\u586b\u9879!"});var a={type:e.type,sub_type:e.sub_type,location:e.cowshed.value,content:e.note,photo:e.photo.toString(),tasker:e.assesser.value,start_time:e.assessDate2,note:e.note};i(!0);var t=function(){var a=new FormData;return e.photo.forEach(function(e){return a.append("imgs",e)}),Z(a).pipe(Object(Ge.a)(function(e){return e.response.upload_imgs}))}().pipe(Object(rt.a)(function(e){return a.photo=e.toString(),t=JSON.stringify(a),Y("mtodotasks",t,{useToken:!0,useFarmCode:!0,useJSON:!0});var t})).subscribe(function(a){console.log("data",a),e.showMessage({variant:"success",open:!0,message:"\u64cd\u4f5c\u6210\u529f"}),h()},function(e){console.error("error",e),i(!1)},function(){i(!1),t.unsubscribe()})}};return r.a.useEffect(function(){var a=u.find(function(a){return+a.id===e.type}),t=a&&a.sub_tasktypes;E(t||[])},[u,e.type]),r.a.useEffect(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return G("todotasktypes",e,{useFarmCode:!1,useToken:!0})}({page:1,page_size:100}).pipe(Object(Ge.a)(function(e){return e.response})).subscribe(function(e){console.log("data",e),p(e)},function(e){console.log("err",e)});return function(){return e.unsubscribe()}},[]),r.a.createElement("div",null,r.a.createElement(ea,{title:g,beforeRouteLeave:h}),r.a.createElement(L.a,{className:t.root},r.a.createElement(me.a,{margin:"dense",fullWidth:!0},r.a.createElement(Ta.a,{onFocus:function(){return e.history.push("/commonSelectList/user")},value:e.assesser.label,placeholder:"\u70b9\u51fb\u9009\u62e9\u8d23\u4efb\u4eba",startAdornment:r.a.createElement(W.a,{className:t.inputAdornment,position:"start"},"\u8d23\u4efb\u4eba:")})),r.a.createElement(me.a,{margin:"dense",fullWidth:!0},r.a.createElement(z.a,{select:!0,InputProps:{startAdornment:r.a.createElement(W.a,{className:t.inputAdornment,position:"start"},r.a.createElement("p",null,r.a.createElement(Ma,null),"\u4efb\u52a1\u7c7b\u578b:"))},onChange:function(a){return e.saveReviewDetail({type:a.target.value})},value:e.type},u.map(function(e){return r.a.createElement(we.a,{key:e.id,value:e.id},e.task_name_lang)}))),r.a.createElement(me.a,{margin:"dense",fullWidth:!0},r.a.createElement(z.a,{select:!0,InputProps:{startAdornment:r.a.createElement(W.a,{className:t.inputAdornment2,position:"start"},r.a.createElement("p",null,r.a.createElement(Ma,null),"\u5b50\u4efb\u52a1\u7c7b\u578b:"))},onChange:function(a){return e.saveReviewDetail({sub_type:a.target.value})},value:e.sub_type},b.map(function(e){return r.a.createElement(we.a,{key:e.id,value:e.id},e.task_name_lang)}))),r.a.createElement(me.a,{fullWidth:!0,margin:"normal"},r.a.createElement(Aa.b,{utils:La.a,locale:"zh-cn"},r.a.createElement(Aa.a,{id:"mui-pickers-date",label:"\u5de1\u68da\u65e5\u671f",format:"yyyy-MM-dd",value:e.assessDate2,onChange:function(a){return e.saveReviewDetail({assessDate2:a})},okLabel:"\u786e\u5b9a",cancelLabel:"\u53d6\u6d88",shouldDisableDate:function(a){return null===a||a.toMillis()<e.assessDate.toMillis()}}))),r.a.createElement(Le.a,null,r.a.createElement(me.a,{margin:"dense",fullWidth:!0},r.a.createElement(Ta.a,{value:e.cowshed.label,onFocus:function(){return e.history.push("/commonSelectList/cowshed")},placeholder:"\u70b9\u51fb\u9009\u62e9\u725b\u820d\u53f7",startAdornment:r.a.createElement(W.a,{className:t.inputAdornment,position:"start"},r.a.createElement("p",null,r.a.createElement(Ma,null),"\u5de1\u89c6\u70b9:")),endAdornment:r.a.createElement(W.a,{position:"end",className:"".concat(t.inputAdornment," text-right")},"#\u728a\u725b\u820e")})),r.a.createElement(Ha,{labelText:"\u5de1\u89c6\u70b9\uff0c\u95ee\u9898\u63cf\u8ff0",photo:e.photo,note:e.note,saveReviewDetail:e.saveReviewDetail,textAreaRequired:!0})),r.a.createElement(Le.a,{className:t.btnContainer},r.a.createElement(lt,{btnText:"\u63d0\u4ea4",onClick:function(){return v()},className:t.btnMargin,loading:o}))))}),ut=function(e,a,t,n){return{name:e,date:a,type:t,id:n}},pt=(ut("\u98ce\u6e05\u626c","2019-03-10","\u4e73\u5934\u8bc4\u5206",1),ut("\u4efb\u6211\u884c","2019-03-10","\u884c\u8d70\u8bc4\u5206",2),ut("\u98ce\u6e05\u626c","2019-03-10","\u5de1\u68da\u8bc4\u5206",3),ut("\u4efb\u6211\u884c","2019-03-10","\u4f53\u51b5\u8bc4\u5206",4),Object(te.a)(function(e){return{root:{paddingTop:48},tableHeader:{color:e.palette.primary.main},circularProgress:{marginRight:10},tableItemWidth:{width:"22vw"},tablePadding:{padding:"14px 0px"}}})),dt=function(e){var a=pt(),t=r.a.useState({page:1,page_size:10}),l=Object(A.a)(t,2),c=l[0],o=l[1],i=r.a.useState([]),m=Object(A.a)(i,2),u=m[0],p=m[1],d=r.a.useState(null),f=Object(A.a)(d,2),b=f[0],E=f[1],g=r.a.useState(!1),h=Object(A.a)(g,2),v=h[0],y=h[1],x=Object(pa.a)(a.tableHeader,a.tablePadding);return Object(n.useEffect)(function(){y(!0);var e=function(e){return G("onsiteassessments",e,{useToken:!0,useFarmCode:!0})}(c).pipe(Object(Ge.a)(function(e){return e.response}),Object(Ge.a)(function(e){return[e.results,e.next]})).subscribe(function(e){console.log("data",e);var a=e[0];p(u.concat(a)),E(e[1]),y(!1)});return function(){return e.unsubscribe()}},[c]),r.a.createElement(Le.a,{className:a.root},r.a.createElement(ea,{title:"\u73b0\u573a\u62a5\u544a-\u6e05\u5355"}),r.a.createElement(fe.a,{square:!0},r.a.createElement(ca.a,null,r.a.createElement(oa.a,null,r.a.createElement(ia.a,null,r.a.createElement(sa.a,{className:x,align:"center"},"\u4eba\u5458"),r.a.createElement(sa.a,{className:x,align:"center"},"\u65e5\u671f"),r.a.createElement(sa.a,{className:x,align:"center"},"\u7c7b\u578b"),r.a.createElement(sa.a,{className:x,align:"center"},"\u8be6\u60c5"))),r.a.createElement(ma.a,null,u.map(function(e){return r.a.createElement(ia.a,{key:e.id},r.a.createElement(sa.a,{align:"center",className:a.tablePadding},e.assessr_name),r.a.createElement(sa.a,{align:"center",className:a.tablePadding},e.assess_date),r.a.createElement(sa.a,{align:"center",className:a.tablePadding},e.assesstype_name),r.a.createElement(sa.a,{align:"center",className:a.tablePadding},r.a.createElement("a",{href:e.pdf,download:!0,className:a.tableHeader},"\u4e0b\u8f7d")))})))),v?r.a.createElement(Le.a,{display:"flex",justifyContent:"center",alignItems:"center",className:"text-center",marginTop:"20px",fontSize:"12px"},r.a.createElement(qe.a,{size:15,className:a.circularProgress}),"\u6b63\u5728\u52a0\u8f7d\u4e2d..."):r.a.createElement(Le.a,{className:"text-center",marginTop:"20px",onClick:function(){b&&o(Object(s.a)({},c,{page:c.page+1}))},fontSize:"12px"},b?"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a":"\u6ca1\u6709\u66f4\u591a\u4e86"))},ft=t(126),bt=Object(x.a)(function(e){return{root:{paddingTop:50,marginBottom:70,overflowY:"auto",boxSizing:"border-box"},paper:{margin:"0 4vw",borderRadius:5,marginTop:15,padding:"10px 0"},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},infoItem:{fontSize:14,lineHeight:1.5,color:"#111"},spanLeft:{width:70},circularProgress:{marginRight:10}}}),Et=function(e){var a=bt(),n=r.a.useState({page:1,page_size:10,search:"",fromMore:!1}),l=Object(A.a)(n,2),c=l[0],o=l[1],i=r.a.useState([]),m=Object(A.a)(i,2),u=m[0],p=m[1],d=r.a.useState(null),f=Object(A.a)(d,2),b=f[0],E=f[1],g=r.a.useState(!1),h=Object(A.a)(g,2),y=h[0],x=h[1],N=r.a.useState(!1),O=Object(A.a)(N,2),j=O[0],S=O[1];return r.a.useEffect(function(){x(!0);var e=JSON.parse(JSON.stringify(c));delete e.fromMore;var a=function(e){return G("cows",e,{useFarmCode:!0,useToken:!0})}(e).pipe(Object(Ge.a)(function(e){return e.response}),Object(Ge.a)(function(e){return[e.results,e.next]})).subscribe(function(e){console.log("data",e);var a=e[0];p(c.fromMore?u.concat(a):a),E(e[1]),x(!1),S(!1)});return function(){return a.unsubscribe()}},[c]),r.a.createElement(Le.a,{className:a.root},r.a.createElement(ea,{title:"\u67e5\u627e\u725b\u53ea",useSearch:!0,searchLoading:j,searchPlaceholder:"\u8bf7\u8f93\u5165\u725b\u53f7",getSearchValue:function(e){S(!0),o(Object(s.a)({},c,{fromMore:!1,page:1,search:e}))}}),u.map(function(e,n){return r.a.createElement(M.a,{component:v.b,to:"/cowDetail/".concat(e.id),key:"cow-item-".concat(n)},r.a.createElement(fe.a,{className:a.paper,square:!0},r.a.createElement(P.a,{container:!0},r.a.createElement(P.a,{item:!0,xs:3,container:!0,justify:"center",alignItems:"center"},r.a.createElement(L.a,null,r.a.createElement(ft.a,null,r.a.createElement("img",{className:a.img,alt:"complex",src:t(322)})))),r.a.createElement(P.a,{item:!0,xs:!0},r.a.createElement("div",{className:a.infoItem},r.a.createElement("span",{className:a.spanLeft},"\u725b\u53f7:"),r.a.createElement("span",null,e.eartag)),r.a.createElement("div",{className:a.infoItem},r.a.createElement("span",{className:a.spanLeft},"\u6240\u5c5e\u725b\u820e:"),r.a.createElement("span",null,e.pen_name)),r.a.createElement("div",{className:a.infoItem},r.a.createElement("span",{className:a.spanLeft},"\u7c7b\u578b:"),r.a.createElement("span",null,e.cbrd||"\u6682\u65e0"))))))}),y?r.a.createElement(Le.a,{display:"flex",justifyContent:"center",alignItems:"center",className:"text-center",marginTop:"20px",fontSize:"12px"},r.a.createElement(qe.a,{size:15,className:a.circularProgress}),"\u6b63\u5728\u52a0\u8f7d\u4e2d..."):r.a.createElement(Le.a,{className:"text-center",marginTop:"20px",onClick:function(){b&&o(Object(s.a)({},c,{fromMore:!0,page:c.page+1}))},fontSize:"12px"},b?"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a":"\u6ca1\u6709\u66f4\u591a\u4e86"))},gt=t(806),ht=t(782),vt=t(783),yt=t(147),xt=t.n(yt),Nt=Object(x.a)(function(e){return{root:{marginTop:58},heading:{fontSize:14,flexBasis:"45%",flexShrink:0},infoItem:{padding:"5px 0"},lastExpan:{margin:"16px -16px!important"},lastDetail:{overflowX:"scroll",paddingLeft:0},tableCell:{paddingRight:10},tableHeader:{color:e.palette.primary.main}}}),Ot=function(e,a){return{label:e,value:a}},jt=[Ot("\u725b\u53f7",3080),Ot("\u725b\u533a",11),Ot("\u79bb\u573a\u65e5\u671f",""),Ot("\u751f\u65e5","2013-06-07"),Ot("\u80ce\u6b21",5),Ot("\u80ce\u6b21\u7ec4",3),Ot("\u6bcd\u725b\u53f7",30),Ot("\u7236\u725b\u53f7",380)];function St(e,a,t,n,r,l){return{eventname:e,date:a,days:t,count:n,freeze:r,mark:l}}var wt=[St("\u8f6c\u7fa41\u8f6c\u7fa41\u8f6c\u7fa41\u8f6c\u7fa41","2019-06-17",1e3,24,"DNJSKWKWN",""),St("\u8f6c\u7fa42","2019-06-17",1e3,24,"DNJSKWKWN",""),St("\u8f6c\u7fa43","2019-06-17",1e3,24,"DNJSKWKWN",""),St("\u8f6c\u7fa44","2019-06-17",1e3,24,"DNJSKWKWN",""),St("\u8f6c\u7fa45","2019-06-17",1e3,24,"DNJSKWKWN",""),St("\u8f6c\u7fa46","2019-06-17",1e3,24,"DNJSKWKWN",""),St("\u8f6c\u7fa47","2019-06-17",1e3,24,"DNJSKWKWN",""),St("\u8f6c\u7fa48","2019-06-17",1e3,24,"DNJSKWKWN",""),St("\u8f6c\u7fa49","2019-06-17",1e3,24,"DNJSKWKWN",""),St("\u8f6c\u7fa410","2019-06-17",1e3,24,"DNJSKWKWN","")],kt=function(e){var a=Nt(),t="\u725b\u5934\u8be6\u60c5-".concat(e.match.params.id,"\u53f7"),n=r.a.useState([]),l=Object(A.a)(n,2),c=(l[0],l[1]),o=r.a.useState("panel1"),i=Object(A.a)(o,2),s=i[0],m=i[1],u=function(e){return function(a,t){m(!!t&&e)}};return r.a.useEffect(function(){var a,t=e.match.params.id,n=(a={id:t},G("cows",a,{useFarmCode:!0,useToken:!0,useId:!0})).pipe(Object(Ge.a)(function(e){return e.response})).subscribe(function(e){console.log("data",e),c(e)});return function(){return n.unsubscribe()}},[]),r.a.createElement(Le.a,{className:a.root},r.a.createElement(ea,{title:t}),r.a.createElement(L.a,null,r.a.createElement(gt.a,{expanded:"panel1"===s,onChange:u("panel1")},r.a.createElement(ht.a,{expandIcon:r.a.createElement(xt.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(Ve.a,{className:a.heading},"\u725b\u53ea\u4fe1\u606f\u4e00")),r.a.createElement(vt.a,null,r.a.createElement(Le.a,{width:"100%"},jt.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:e.label},r.a.createElement(P.a,{container:!0,className:a.infoItem},r.a.createElement(P.a,{item:!0,xs:!0,className:"text-left"},e.label),r.a.createElement(P.a,{item:!0,xs:!0,className:"text-right"},e.value)),t!==jt.length-1&&r.a.createElement(na,null))})))),r.a.createElement(gt.a,{expanded:"panel2"===s,onChange:u("panel2")},r.a.createElement(ht.a,{expandIcon:r.a.createElement(xt.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(Ve.a,{className:a.heading},"\u725b\u53ea\u4fe1\u606f\u4e8c")),r.a.createElement(vt.a,null,r.a.createElement(Le.a,{width:"100%"},jt.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:e.label},r.a.createElement(P.a,{container:!0,className:a.infoItem},r.a.createElement(P.a,{item:!0,xs:!0,className:"text-left"},e.label),r.a.createElement(P.a,{item:!0,xs:!0,className:"text-right"},e.value)),t!==jt.length-1&&r.a.createElement(na,null))})))),r.a.createElement(gt.a,{expanded:"panel3"===s,onChange:u("panel3")},r.a.createElement(ht.a,{expandIcon:r.a.createElement(xt.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(Ve.a,{className:a.heading},"\u725b\u53ea\u4fe1\u606f\u4e09")),r.a.createElement(vt.a,null,r.a.createElement(Le.a,{width:"100%"},jt.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:e.label},r.a.createElement(P.a,{container:!0,className:a.infoItem},r.a.createElement(P.a,{item:!0,xs:!0,className:"text-left"},e.label),r.a.createElement(P.a,{item:!0,xs:!0,className:"text-right"},e.value)),t!==jt.length-1&&r.a.createElement(na,null))})))),r.a.createElement(gt.a,{expanded:"panel4"===s,onChange:u("panel4"),className:"panel4"===s?a.lastExpan:""},r.a.createElement(ht.a,{expandIcon:r.a.createElement(xt.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(Ve.a,{className:a.heading},"\u4e8b\u4ef6\u4fe1\u606f")),r.a.createElement(vt.a,{className:"panel4"===s?a.lastDetail:""},r.a.createElement(ca.a,null,r.a.createElement(oa.a,null,r.a.createElement(ia.a,null,r.a.createElement(sa.a,{className:Object(pa.a)(a.tableCell,a.tableHeader)},"\u4e8b\u4ef6"),r.a.createElement(sa.a,{className:Object(pa.a)(a.tableCell,a.tableHeader)},"\u65e5\u671f"),r.a.createElement(sa.a,{className:Object(pa.a)(a.tableCell,a.tableHeader)},"\u5929\u6570"),r.a.createElement(sa.a,{className:Object(pa.a)(a.tableCell,a.tableHeader)},"\u672c\u80ce\u53d1\u751f\u7684\u6b21\u6570"),r.a.createElement(sa.a,{className:Object(pa.a)(a.tableCell,a.tableHeader)},"\u51bb\u7cbe"),r.a.createElement(sa.a,{className:Object(pa.a)(a.tableCell,a.tableHeader)},"\u5907\u6ce8"))),r.a.createElement(ma.a,null,wt.map(function(e){return r.a.createElement(ia.a,{key:e.eventname},r.a.createElement(sa.a,{className:a.tableCell},r.a.createElement("div",{style:{width:"80px"}},e.eventname)),r.a.createElement(sa.a,{className:a.tableCell},e.date),r.a.createElement(sa.a,{className:a.tableCell},e.days),r.a.createElement(sa.a,{className:a.tableCell},r.a.createElement("div",{style:{width:"50px"}},e.count)),r.a.createElement(sa.a,{className:a.tableCell},e.freeze),r.a.createElement(sa.a,{className:a.tableCell},r.a.createElement("div",{style:{width:"80px"}},e.mark)))})))))))},Ct=Object(te.a)({root:{paddingTop:48}}),Tt=function(e){var a=Ct();return r.a.createElement(Le.a,{className:a.root},r.a.createElement(ea,{title:"\u73b0\u573a\u62a5\u544a-\u660e\u7ec6"}),r.a.createElement(L.a,null,r.a.createElement("h5",null,"\u73b0\u573a\u62a5\u544a-\u660e\u7ec6, id:",e.match.params.id)))},It=t(803),_t=Object(x.a)(function(e){return{contantContainer:{marginTop:50},circularProgressba:{width:50},circularProgress:{marginRight:10}}}),Dt={user:"\u9009\u62e9\u8bc4\u4f30\u4eba",cow:"\u9009\u62e9\u725b\u53ea",cowshed:"\u9009\u62e9\u725b\u820d"},At={user:function(e){return G("users",e,{useFarmCode:!0,useToken:!0})},cow:function(e){return G("cowlites",e,{useFarmCode:!0,useToken:!0})},cowshed:function(e){return G("pens",e,{useFarmCode:!0,useToken:!0})}},Lt=Object(o.b)(function(e,a){return Object(s.a)({},e.reviewDetailStore)},{saveContent:at,saveReviewDetail:et})(function(e){var a=_t(),t=Object(n.useState)(1),l=Object(A.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(e.value),m=Object(A.a)(i,2),u=m[0],p=m[1],d=r.a.useState(null),f=Object(A.a)(d,2),b=f[0],E=f[1],g=r.a.useState([]),h=Object(A.a)(g,2),v=h[0],y=h[1],x=r.a.useState(!1),N=Object(A.a)(x,2),O=N[0],j=N[1],S=Object(n.useState)(""),w=Object(A.a)(S,2),k=w[0],C=(w[1],e.match.params.type),T=Dt[C];return Object(n.useEffect)(function(){j(!0);var e={page:c,page_size:5};k&&(e.search=k);var a=At[C](e).pipe(Object(Ge.a)(function(e){return e.response}),Object(Ge.a)(function(e){return[e.results,e.next]}),Object(Ge.a)(function(e){var a=Object(A.a)(e,2),t=a[0],n=a[1];return[t.map(function(e){return Object(s.a)({},e,{id:String(e.id)})}),n]}),Object(Ge.a)(function(e){var a=Object(A.a)(e,2),t=a[0],n=a[1],r={user:"username",cow:"eartag",cowshed:"pen_name"};return[t.map(function(e){return Object(s.a)({},e,{label:e[r[C]]})}),n]}),Object(J.a)(function(e){return Object(It.a)("err => ",e)})).subscribe(function(e){console.log("data",e),y(v.concat(e[0])),E(e[1]),j(!1)});return function(){return a.unsubscribe()}},[c,k]),r.a.createElement(Le.a,null,r.a.createElement(ea,{title:T}),r.a.createElement(L.a,{className:a.contantContainer},r.a.createElement(me.a,{component:"fieldset"},r.a.createElement(ue.a,{"aria-label":"position",name:"position",value:u,onChange:function(e){p(e.target.value)}},v.map(function(e){return r.a.createElement(pe.a,{key:e.id,value:e.id,control:r.a.createElement(de.a,{color:"primary"}),label:e.label,labelPlacement:"end"})})))),O?r.a.createElement(Le.a,{display:"flex",justifyContent:"center",alignItems:"center",className:"text-center",marginTop:"20px",fontSize:"12px"},r.a.createElement(qe.a,{size:15,className:a.circularProgress}),"\u6b63\u5728\u52a0\u8f7d\u4e2d..."):r.a.createElement(Le.a,{className:"text-center",marginTop:"20px",onClick:function(){b&&o(c+1)},fontSize:"12px"},b?"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a":"\u6ca1\u6709\u66f4\u591a\u4e86"),r.a.createElement(Le.a,{position:"fixed",left:15,right:15,bottom:15},r.a.createElement(F.a,{fullWidth:!0,size:"medium",variant:"contained",color:"primary","aria-label":"\u9009\u62e9\u4e00\u9879",onClick:function(){return function(){if(u){var a=v.find(function(e){return e.id===u}),t=Object(D.a)({},{user:"assesser",cow:"cow",cowshed:"cowshed"}[C],{label:a.label,value:u});e.saveReviewDetail(t),e.history.goBack()}}()}},r.a.createElement(R.a,null,"\u786e\u5b9a"))))}),zt=t(805),Wt=t(784),Rt=t(785),Ft=t(786),Pt=t(787),Mt=t(788),Bt=Object(te.a)({root:{paddingTop:60},label:{fontSize:12,color:"#111"},flexbox:{display:"flex",justifyContent:"center",alignItems:"center"},paper:{marginTop:20},infoContent:{fontSize:14,padding:"10px 10px 10px 0"},input:{padding:"10px 0"},formControl:{marginTop:"20px!important"}}),Ht=[{label:"\u4e2a\u6027\u4ecb\u7ecd",icon:r.a.createElement(ke.a,{color:"primary"}),key:"userDesc"},{label:"\u516c\u53f8\u540d\u79f0",icon:r.a.createElement(Wt.a,{color:"primary"}),key:"companyName"},{label:"\u516c\u53f8\u5730\u5740",icon:r.a.createElement(Rt.a,{color:"primary"}),key:"companyAddress"},{label:"\u8054\u7cfb\u65b9\u5f0f",icon:r.a.createElement(Ft.a,{color:"primary"}),key:"mobileNumber"}],Jt=function(e){var a=Object(n.useState)(!1),t=Object(A.a)(a,2),l=t[0],c=t[1],o=Bt(),i=Object(n.useState)({userDesc:"\u6e05\u98ce\u96e8\u9732\u4e00\u76f8\u9022\u4fbf\u80dc\u5374\u4eba\u95f4\u65e0\u6570",companyName:"\u963f\u62c9\u9489\u79d1\u6280\u6709\u9650\u516c\u53f8",companyAddress:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u67d0\u67d0\u8def",mobileNumber:"18888888888"}),m=Object(A.a)(i,2),u=m[0],p=m[1];return r.a.createElement(L.a,{className:o.root},r.a.createElement(ea,{title:"\u4e2a\u4eba\u4fe1\u606f",endAdorment:r.a.createElement(Ee.a,{onClick:function(){return c(!l)},className:"text-white"},l?r.a.createElement(Pt.a,null):r.a.createElement(Mt.a,null))}),r.a.createElement(Le.a,null,Ht.map(function(e){return l?r.a.createElement(me.a,{fullWidth:!0,margin:"dense",key:e.key,className:o.formControl},r.a.createElement(zt.a,{htmlFor:e.key},e.label),r.a.createElement(Ta.a,{id:"input-with-icon-adornment",startAdornment:r.a.createElement(W.a,{position:"start"},e.icon),multiline:!0,className:o.formControl,value:u[e.key],onChange:(a=e.key,function(e){p(Object(s.a)({},u,Object(D.a)({},a,e.target.value)))})})):r.a.createElement(fe.a,{className:o.paper,key:e.key},r.a.createElement(P.a,{container:!0,spacing:1},r.a.createElement(P.a,{item:!0,xs:2,className:o.flexbox},r.a.createElement(Ee.a,null,e.icon)),r.a.createElement(P.a,{item:!0,xs:!0},r.a.createElement(Le.a,{className:o.label},e.label),r.a.createElement(Le.a,{className:o.infoContent},u[e.key]))));var a})))},Ut=document.getElementById("root"),Kt=Object(y.f)(function(e){return Object(n.useEffect)(function(){Ut.scrollTo(0,0)},[e.location.pathname]),e.children});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(691);var Vt=t(340),qt=t(789),Xt=t(790),Gt=t(791),Yt=t(792),Zt=t(796),$t=t(793),Qt=t(794),en=t(795),an=t(807),tn={success:qt.a,warning:Xt.a,error:Gt.a,info:Yt.a},nn=Object(x.a)(function(e){return{success:{backgroundColor:$t.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Qt.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}});function rn(e){var a=nn(),t=e.className,n=e.message,l=e.onClose,c=e.variant,o=Object(Vt.a)(e,["className","message","onClose","variant"]),i=tn[c];return r.a.createElement(en.a,Object.assign({className:Object(pa.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(pa.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Ee.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(Zt.a,{className:a.icon}))]},o))}var ln=Object(x.a)(function(e){return{margin:{margin:e.spacing(1)}}});var cn=Object(o.b)(function(e){return Object(s.a)({},e.messageStore)},function(e){return{close:function(){e({type:"CLOSE_MESSAGE",payload:{open:!1}})}}})(function(e){var a=ln();function t(a,t){"clickaway"!==t&&e.close()}return r.a.createElement("div",null,r.a.createElement(an.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:e.open,autoHideDuration:"error"===e.variant?null:3e3,onClose:t},r.a.createElement(rn,{onClose:t,className:a.margin,variant:e.variant,message:e.message})))}),on=Object(h.a)({palette:{primary:{main:"#00c6a0",contrastText:"#fff"},secondary:{main:"#fff"}}});c.a.render(r.a.createElement(o.a,{store:E},r.a.createElement(g.a,{theme:on},r.a.createElement(function(){return r.a.createElement(v.a,null,r.a.createElement(Kt,null,r.a.createElement(y.b,{path:"/login",component:re}),r.a.createElement(y.b,{path:"/register",component:ie}),r.a.createElement(y.b,{path:"/selectRanch",component:Ne}),r.a.createElement(y.b,{path:["/","/home","/index"],exact:!0,component:_(Ue)}),r.a.createElement(y.b,{path:"/manageList/:type",component:Ca}),r.a.createElement(y.b,{path:"/sceneReport",component:dt}),r.a.createElement(y.b,{path:"/SceneReportDetail/:id",component:Tt}),r.a.createElement(y.b,{path:"/tasks",component:_(la)}),r.a.createElement(y.b,{path:"/reports",component:_(va)}),r.a.createElement(y.b,{path:"/search",component:_(Et)}),r.a.createElement(y.b,{path:"/cowDetail/:id",component:_(kt)}),r.a.createElement(y.b,{path:"/reviewDetail/:ranchType/:reviewType",component:ct}),r.a.createElement(y.b,{path:"/viewCowshed/:ranchType",component:mt}),r.a.createElement(y.b,{path:"/tasksDetail/:id",component:Ea}),r.a.createElement(y.b,{path:"/user",component:Jt}),r.a.createElement(y.b,{path:"/commonSelectList/:type",component:Lt})))},null),r.a.createElement(cn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[355,1,2]]]);
//# sourceMappingURL=main.e9038f1a.chunk.js.map